# 新版本-数据大屏

## 水面保洁列表页接口：

### 接口地址：/pc/new/water_surface/list/

### 请求方式：get

### 请求参数：

| 参数名 | 类型 | 是否必传 | 命名   | 备注 |
| ------ | ---- | -------- | ------ | ---- |
| userId | INT  | 是       | 用户ID |      |
| cityId | INT  | 是       | 城市ID |      |

### 响应

#### 200

```bash
(1, "垃圾"),
(2, "水草"),
(3, "树枝"),
(4, "死鱼"),
(5, "动物尸体"),
(6, "水质污染"),
(7, "河面油污"),
(8, "河道侵占"),
(9, "非法船只"),
(10, "扔垃圾"),
(11, "游泳"),
(12, "活体人"),
(13, "活体车"),
(14, "活体船"),
(15, "水葫芦"),
(16, "浮藻"),
(17, "蓝藻"),
(18, "落叶"),
(19, "鱼篓"),
(20, "渔网"),
(21, "飞禽尸体"),
(22, "家禽尸体"),
(23, "其他尸体"),
(24, "钓鱼"),
(25, "挖沙"),
(26, "出水明管"),
(27, "无水明管"),
(28, "船只偏航"),
(29, "堤坝缺陷")
```

```json
{
    "data": [
        {
            "rubbish_count": 67,
            "ai_type": 2
        },
        {
            "rubbish_count": 176,
            "ai_type": 1
        },
        {
            "rubbish_count": 39,
            "ai_type": 3
        },
        {
            "rubbish_count": 14,
            "ai_type": 7
        },
        {
            "rubbish_count": 50,
            "ai_type": 15
        },
        {
            "rubbish_count": 10,
            "ai_type": 16
        },
        {
            "rubbish_count": 4,
            "ai_type": 17
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 水面保洁详情页接口：

### 接口地址：/new/water_surface/detail/

### 请求方式：get

### 请求参数：

| 参数名 | 类型   | 是否必传 | 命名     | 备注 |
| ------ | ------ | -------- | -------- | ---- |
| userId | INT    | 是       | 用户ID   |      |
| cityId | INT    | 是       | 城市ID   |      |
| pId    | STRING | 否       | 省份ID   | 筛选 |
| aiType | STRING | 否       | AI类别   | 筛选 |
| sTime  | STRING | 否       | 开始时间 | 筛选 |
| eTime  | STRING | 否       | 结束时间 | 筛选 |

### 响应

#### 200

```bash
{
    "data": {
        "count": 4,
        "list": [
            {
                "id": 1339,
                "areas": "100",  // 保洁面积
                "provinceName": "浙江省",  // 地区
                "userName": "操作员1",  // 联系人姓名
                "userMobile": "15558968858",  // 联系人手机号
                "cTime": "2021-05-05T14:36:35.610153+08:00",  // 日期
                "provinceId": "1",  // 省份
                "aiType": 1 // 类别同上述
            },
            {
                "id": 1338,
                "areas": "100",
                "provinceName": "浙江省",
                "userName": "操作员1",
                "userMobile": "15558968858",
                "cTime": "2021-05-05T14:36:05.331288+08:00",
                "provinceId": "1",
                "aiType": 1
            },
            {
                "id": 1311,
                "areas": "100",
                "provinceName": "浙江省",
                "userName": "操作员1",
                "userMobile": "15558968858",
                "cTime": "2021-05-05T10:06:45.172869+08:00",
                "provinceId": "1",
                "aiType": 1
            },
            {
                "id": 1310,
                "areas": "100",
                "provinceName": "浙江省",
                "userName": "操作员1",
                "userMobile": "15558968858",
                "cTime": "2021-05-05T10:06:14.741486+08:00",
                "provinceId": "1",
                "aiType": 1
            }
        ],
        "links": {
            "previous": null,
            "next": null
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 安防应急列表：

### 接口地址：/pc/new/emergency/list/

### 请求方式：get

### 请求参数：

| 参数名 | 类型 | 是否必传 | 命名   | 备注 |
| ------ | ---- | -------- | ------ | ---- |
| userId | INT  | 是       | 用户ID |      |
| cityId | INT  | 是       | 城市ID |      |

### 响应

#### 200

```bash
(1, "捕鱼驱赶"),
(2, "儿童驱赶"),
(3, "戏水驱赶"),
(4, "景点介绍"),
(5, "非法倾倒"),
(6, "环境宣传"),
(7, "落水呼救"),
(8, "夜间火警"),
```

```bash
{
    "data": [
        {
            "count": 3,
            "type": 1
        },
        {
            "count": 2,
            "type": 2
        },
        {
            "count": 2,
            "type": 3
        },
        {
            "count": 2,
            "type": 4
        },
        {
            "count": 2,
            "type": 5
        },
        {
            "count": 1,
            "type": 6
        },
        {
            "count": 2,
            "type": 7
        },
        {
            "count": 3,
            "type": 8
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 安防应急详情页接口：

### 接口地址：/new/emergency/detail/

### 请求方式：get

### 请求参数：

| 参数名 | 类型   | 是否必传 | 命名                 | 备注 |
| ------ | ------ | -------- | -------------------- | ---- |
| userId | INT    | 是       | 用户ID               |      |
| cityId | INT    | 是       | 城市ID               |      |
| shipId | INT    | 否       | 船ID                 | 筛选 |
| type   | INT    | 否       | 类别(同上面列表接口) | 筛选 |
| sTime  | STRING | 否       | 开始时间             | 筛选 |
| eTime  | STRING | 否       | 结束时间             | 筛选 |

### 响应

#### 200

```bash
{
    "data": {
        "count": 13,
        "list": [
            {
                "id": 6,  // 消息ID
                "cTime": "1621815804.000000", // 发送时间
                "shipId": 31,  // 船ID
                "shipNumber": "0009",  // 船编号
                "shipName": "QDF-009",  // 船名称
                "type": 4,  // 同上述列表
                "msg": "第四条信息"  // 船发送的消息
            },
            {
                "id": 1,
                "cTime": "1621383793.000000",
                "shipId": 31,
                "shipNumber": "0009",
                "shipName": "QDF-009",
                "type": 1,
                "msg": "第一条信息"
            },
            {
                "id": 4,
                "cTime": "1621297396.000000",
                "shipId": 31,
                "shipNumber": "0009",
                "shipName": "QDF-009",
                "type": 2,
                "msg": "第二条消息"
            },
            {
                "id": 5,
                "cTime": "1620951800.000000",
                "shipId": 31,
                "shipNumber": "0009",
                "shipName": "QDF-009",
                "type": 3,
                "msg": "第三条信息"
            },
            {
                "id": 10,
                "cTime": null,
                "shipId": 31,
                "shipNumber": "0009",
                "shipName": "QDF-009",
                "type": 5,
                "msg": "第五条信息"
            },
            {
                "id": 14,
                "cTime": null,
                "shipId": 31,
                "shipNumber": "0009",
                "shipName": "QDF-009",
                "type": 1,
                "msg": "第六条信息"
            },
            {
                "id": 15,
                "cTime": null,
                "shipId": 31,
                "shipNumber": "0009",
                "shipName": "QDF-009",
                "type": 2,
                "msg": "第七条信息"
            },
            {
                "id": 16,
                "cTime": null,
                "shipId": 31,
                "shipNumber": "0009",
                "shipName": "QDF-009",
                "type": 3,
                "msg": "第八条信息"
            },
            {
                "id": 17,
                "cTime": null,
                "shipId": 31,
                "shipNumber": "0009",
                "shipName": "QDF-009",
                "type": 4,
                "msg": "第九条信息"
            },
            {
                "id": 18,
                "cTime": null,
                "shipId": 31,
                "shipNumber": "0009",
                "shipName": "QDF-009",
                "type": 5,
                "msg": "第十条信息"
            }
        ],
        "links": {
            "previous": null,
            "next": "http://127.0.0.1:8000/pc/new/emergency/detail/?page=2&shipId=31&userId=8"
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

