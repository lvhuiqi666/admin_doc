# 智慧水域-驾驶屏相关功能

## 发送验证码：

### 接口地址：/v1/pc/sms/

### 请求方式：POST

### 请求参数：

| 参数名 | 类型   | 是否必传 | 命名          | 备注 |
| ------ | ------ | -------- | ------------- | ---- |
| mobile | STRING | 是       | 用户名-手机号 |      |
| pd     | STRING | 是       | 密码          |      |

### 请求示例:

```bash
{
    "mobile":"13069634826",
    "pd": "1234567"
}
```

### 响应

#### 200

```bash
{
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 用户登录：

### 接口地址：/v1/pc/login/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型   | 是否必传 | 命名          | 备注 |
| ---------- | ------ | -------- | ------------- | ---- |
| mobile     | STRING | 是       | 用户名-手机号 |      |
| pd         | STRING | 是       | 密码          |      |
| verifyCode | STRING | 是       | 验证码        |      |

### 请求示例:

```bash
{
    "mobile":"13069634826",
    "pd": "123456",
    "verifyCode": "6666"
}
```

### 响应

#### 200

```bash
{
    "data": {
        "name": "吕品品123", // 用户姓名
        "roles": 6,  // 角色
        "mobile": "13069634826",  // 手机号|用户名
        "roles_name": "普通用户",  // 角色名称
        "auth": [  // 权限管理 true 不可看到当前板块    false:可以看到当前板块
            {
                "auth_type": 1,
                "is_enabled": false,
                "name": "综合业务",
                "project_desc": null,
                "roles_id": 6,
                "func_id": "ZHYW",
                "id": 1,
                "desc": null
            },
            {
                "auth_type": 1,
                "is_enabled": false,
                "name": "水面保洁",
                "project_desc": null,
                "roles_id": 6,
                "func_id": "SMBJ",
                "id": 2,
                "desc": null
            },
            {
                "auth_type": 1,
                "is_enabled": false,
                "name": "水质检测",
                "project_desc": null,
                "roles_id": 6,
                "func_id": "ZSJC",
                "id": 3,
                "desc": null
            },
            {
                "auth_type": 1,
                "is_enabled": false,
                "name": "安防应急",
                "project_desc": null,
                "roles_id": 6,
                "func_id": "AFYJ",
                "id": 4,
                "desc": null
            },
            {
                "auth_type": 1,
                "is_enabled": false,
                "name": "水下探测",
                "project_desc": null,
                "roles_id": 6,
                "func_id": "SXTC",
                "id": 5,
                "desc": null
            },
            {
                "auth_type": 1,
                "is_enabled": false,
                "name": "智能巡河",
                "project_desc": null,
                "roles_id": 6,
                "func_id": "ZNXH",
                "id": 6,
                "desc": null
            },
            {
                "auth_type": 1,
                "is_enabled": false,
                "name": "试剂投放",
                "project_desc": null,
                "roles_id": 6,
                "func_id": "SJTF",
                "id": 7,
                "desc": null
            },
            {
                "auth_type": 1,
                "is_enabled": false,
                "name": "设备自控",
                "project_desc": null,
                "roles_id": 6,
                "func_id": "SBZK",
                "id": 8,
                "desc": null
            },
            {
                "auth_type": 1,
                "is_enabled": false,
                "name": "监控云台",
                "project_desc": null,
                "roles_id": 6,
                "func_id": "JKYT",
                "id": 9,
                "desc": null
            },
            {
                "auth_type": 1,
                "is_enabled": false,
                "name": "项目管理",
                "project_desc": [
                    {
                        "num": "1232132132",
                        "id": 3,
                        "name": "项目名册"
                    },
                    {
                        "num": "12321322132",
                        "id": 4,
                        "name": "项目名册"
                    }
                ],
                "roles_id": 6,
                "func_id": "XMGL",
                "id": 10,
                "desc": null
            }
        ],
        "id": 1,  
         "projects_info": [ // 项目信息
            {
                "ship_id": 2,  // 船的ID
                "waters_id": 2,  // 水域ID
                "id": 3,  // 项目ID
                "ship__number": "0002"  // 船的编号
            },
            {
                "ship_id": 3,
                "waters_id": 2,
                "id": 4,
                "ship__number": "003"
            }
        ]
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 巡河任务：

### 接口地址：/v1/pc/ai_river/task/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名   | 备注                     |
| ---------- | ---- | -------- | ------ | ------------------------ |
| projectIds | LIST | 是       | 项目ID | 登录成功以后返回的项目ID |

### 请求示例:

```bash
{  
    "projectIds": [2]
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
        	 "province__lng": "120.193968",
            "waters_id": 2,  // 水域ID
            "c_time": "2021-10-04T11:18:34Z",  // 巡河日期
            "province__name": "浙江省",  // 地区
            "waters__name": "西湖",  // 水域名称
            "province_id": 1,  // 地区id
            "alarm_count": 19,  // 预警事件
            "province__lat": "30.251057",
            "id": 1
        },
        {
            "waters_id": 4,
            "province__lng": "120.193968",
            "c_time": "2021-10-06T11:19:51Z",
            "province__name": "江苏省",
            "waters__name": "洞庭湖",
            "province_id": 2,
            "alarm_count": 72,
            "province__lat": "30.251057",
            "id": 2
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 巡河任务-详情接口：

### 接口地址：/v1/pc/ai_river/task/list/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型   | 是否必传 | 命名     | 备注                     |
| ---------- | ------ | -------- | -------- | ------------------------ |
| provinceId | INT    | 否       | 省份ID   | 筛选                     |
| cityId     | INT    | 否       | 市ID     | 筛选                     |
| areaId     | INT    | 否       | 区域ID   | 筛选                     |
| townId     | INT    | 否       | 镇ID     | 筛选                     |
| villageId  | INT    | 否       | 乡ID     | 筛选                     |
| watersId   | INT    | 否       | 水域ID   | 筛选                     |
| sTime      | STRING | 否       | 开始时间 | 筛选                     |
| eTime      | STRING | 否       | 结束时间 | 筛选                     |
| shipNum    | STRING | 否       | 船名     | 筛选                     |
| projectIds | LIST   | 是       | 项目ID   | 登录成功以后返回的项目ID |

### 请求示例:

```bash
{  
    "projectIds": [2]
}
```

### 响应

#### 200

```bash
{
    "data": {
        "count": 2, // 总数
        "list": [
            {
                "id": 1,  // 任务ID
                "distance": "100",  // 巡河距离
                "name": "西湖巡河任务-001",  // 巡河任务
                "sLongitude": "121.900683",  // 起点经度
                "sLatitude": "31.21611",  // 起点纬度
                "eLongitude": "120.900683",  // 终点经度
                "eLatitude": "30.21611",  // 终点纬度
                "shipInfo": {  // 船信息
                    "userName": "吕品品123",  // 运维人员信息
                    "userId": 1,
                    "id": 2,
                    "userMobile": "13069634826",
                    "number": "0004"
                },
                "provinceInfo": {
                    "id": 1,
                    "name": "浙江省"
                },
                "cityInfo": {
                    "id": 1,
                    "name": "杭州市"
                },
                "areaInfo": {
                    "id": 1,
                    "name": "萧山区"
                },
                "townInfo": {},
                "villageInfo": {},
                "watersInfo": {  // 水域信息 巡河人员相关信息
                    "watersUserId": 1,
                    "watersName": "吕品品123",
                    "watersCompany": "BAT123",
                    "watersMobile": "13069634826",
                    "id": 2,
                    "name": "西湖"
                },
                "cTime": "1633346314.000000"  // 创建时间
            }
        ],
        "links": {
            "previous": null,
            "next": null
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 巡河统计：

### 接口地址：/v1/pc/ai_river/overall/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名   | 备注                     |
| ---------- | ---- | -------- | ------ | ------------------------ |
| year       | INT  | 是       | 年     | 必传                     |
| month      | INT  | 否       | 月     | 月份筛选                 |
| day        | INT  | 否       | 日     | 日筛选                   |
| projectIds | LIST | 是       | 项目ID | 登录成功以后返回的项目ID |

### 请求示例:

```bash
{    
    "year": 2021,
    "month": 8,
    "day": 12,
    "projectIds": [2]
}
```

### 响应

#### 200

```bash
{
    "data": {
        "qualityCount": 1, // 水质检测
        "riverCount": 0,  // 巡河次数
        "riverWeight": 0, //   // 水面保洁(垃圾重量)
        "riverDistance": 0,  // 巡河距离
        "detectCount": 0,  // 水下探测
        "alarmCount": 0  // 预警事件
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 巡河统计-详情接口：

### 接口地址：/v1/pc/ai_river/list/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型   | 是否必传 | 命名     | 备注 |
| ---------- | ------ | -------- | -------- | ---- |
| provinceId | INT    | 否       | 省份ID   | 筛选 |
| cityId     | INT    | 否       | 市ID     | 筛选 |
| areaId     | INT    | 否       | 区域ID   | 筛选 |
| townId     | INT    | 否       | 镇ID     | 筛选 |
| villageId  | INT    | 否       | 乡ID     | 筛选 |
| watersId   | INT    | 否       | 水域ID   | 筛选 |
| sTime      | STRING | 否       | 开始时间 | 筛选 |
| eTime      | STRING | 否       | 结束时间 | 筛选 |

### 请求示例:

```bash
{  
    "projectIds": [2]
}
```

### 响应

#### 200

```bash
{
    "data": {
        "count": 2, // 总数
        "list": [
            {
                "id": 3,  // 项目ID
                "amount": "66.55",  // 项目金额
                "num": "1232132132",  // 项目编号
                "name": "项目名册",  // 项名称
                "businessType": 1,  // 见详情
                "projectType": 1,  // 见详情
                "areas": "123",  // 项目面积
                "distance": "1233",  // 项目距离
                "provinceInfo": {  // 省份信息
                    "id": 1,
                    "name": "浙江省"
                },
                "cityInfo": {  // 城市信息
                    "id": 1,
                    "name": "杭州市"
                },
                "areaInfo": {  // 区域信息
                    "id": 1,
                    "name": "萧山区"
                },
                "townInfo": {},  // 城镇信息
                "villageInfo": {},   // 乡镇信息
                "saleInfo": {  // 销售负责人
                    "mobile": "13069634826",
                    "id": 1,
                    "name": "吕品品123"
                },
                "ownerInfo": {  // 业主信息
                    "mobile": "13069634826",
                    "id": 1,
                    "name": "吕品品123"
                },
                "shipInfo": {  // 船信息
                    "id": 2,
                    "number": "0004"
                },
                "watersInfo": {  // 水域信息
                    "id": 2,
                    "name": "西湖"
                },
                "sTime": "1598704263.000000",  // 合同开始日期
                "eTime": "1598704274.000000",  // 合同结束日期
                "evaluation": 1,  // 见详情
                "shipCount": 2  // 船数量
            }
        ],
        "links": {
            "previous": null,
            "next": null
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 水面保洁面积-日筛选：

> 当前接口返回4中类型

### 接口地址：/v1/pc/day/water_clean/areas_overall/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名   | 备注                     |
| ---------- | ---- | -------- | ------ | ------------------------ |
| date       | STR  | 是       | 筛选日 | 必传                     |
| projectIds | LIST | 是       | 项目ID | 登录成功以后返回的项目ID |

### 请求示例:

```bash
{
    "projectIds": [3,4],
    "date":"2021-08-01"
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "cleaning_type": 1,
            "areas__sum": 16650.0
        },
        {
            "cleaning_type": 2,
            "areas__sum": 15318.0
        },
        {
            "cleaning_type": 3,
            "areas__sum": 6660.0
        },
        {
            "cleaning_type": 4,
            "areas__sum": 10656.0
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 水面保洁面积-月筛选：

> 当前接口返回4中类型

### 接口地址：/v1/pc/month/water_clean/areas_overall/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名   | 备注                     |
| ---------- | ---- | -------- | ------ | ------------------------ |
| year       | INT  | 是       | 年     | 必传                     |
| month      | INT  | 是       | 月     | 必传                     |
| projectIds | LIST | 是       | 项目ID | 登录成功以后返回的项目ID |

### 请求示例:

```bash
{
    "projectIds": [3,4],
    "year": 2021, "month":8
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "areas": 666.0, // 面积
            "s_time": "07-31" // 日期
        },
        {
            "areas": 666.0,
            "s_time": "08-19"
        },
        {
            "areas": 1332.0,
            "s_time": "08-26"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 水面保洁面积-年筛选：

> 当前接口返回4中类型

### 接口地址：/v1/pc/year/water_clean/areas_overall/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名   | 备注                     |
| ---------- | ---- | -------- | ------ | ------------------------ |
| year       | INT  | 是       | 筛选年 | 必传                     |
| projectIds | LIST | 是       | 项目ID | 登录成功以后返回的项目ID |

### 请求示例:

```bash
{
    "projectIds": [3,4],
    "year": 2021
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "areas": 52614.0, // 保洁面积
            "s_time": "2021-07"  // 年份日期
        },
        {
            "areas": 1998.0,
            "s_time": "2021-08"
        },
        {
            "areas": 666.0,
            "s_time": "2021-09"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 水面保洁-详情(水面保洁总览-水面保洁面积-水面保洁垃圾重量)：

### 接口地址：v1/pc/cleaning/overall/list/

### 请求方式：POST

### 请求参数：

| 参数名       | 类型   | 是否必传 | 命名     | 备注 |
| ------------ | ------ | -------- | -------- | ---- |
| cleaningType | INT    | 否       | 保洁类型 | 筛选 |
| provinceId   | INT    | 否       | 省份ID   | 筛选 |
| cityId       | INT    | 否       | 市ID     | 筛选 |
| areaId       | INT    | 否       | 区域ID   | 筛选 |
| townId       | INT    | 否       | 镇ID     | 筛选 |
| villageId    | INT    | 否       | 乡ID     | 筛选 |
| watersId     | INT    | 否       | 水域ID   | 筛选 |
| sTime        | STRING | 否       | 开始时间 | 筛选 |
| eTime        | STRING | 否       | 结束时间 | 筛选 |
| projectIds   | LIST   | 是       | 项目ID   |      |

### 请求示例:

* 

### 响应

#### 200

```bash
// 具体查看详情接口
{
    "data": {
        "count": 6,
        "list": [
            {
                "id": 6,
                "provinceInfo": {
                    "id": 1,
                    "name": "浙江省"
                },
                "cityInfo": {
                    "id": 1,
                    "name": "杭州市"
                },
                "areaInfo": {
                    "id": 1,
                    "name": "萧山区"
                },
                "townInfo": {},
                "villageInfo": {},
                "shipInfo": {
                    "id": 2,
                    "number": "0003"
                },
                "watersInfo": {
                    "id": 1,
                    "name": "西湖"
                },
                "userInfo": {
                    "mobile": "13069634822",
                    "id": 4,
                    "name": "吕品品"
                },
                "sTime": "1627747200.000000",
                "eTime": "1630512000.000000",
                "category": 11,
                "cleaningType": 1,
                "areas": "666",
                "distance": "123",
                "weight": "1232"
            },
        ],
        "links": {
            "previous": null,
            "next": null
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 驾驶舱-巡河总览(日、月、年筛选)：

### 接口地址：/v1/pc/drive/ai_river/overall/

### 请求方式：POST

### 请求参数：

| 参数名  | 类型 | 是否必传 | 命名   | 备注     |
| ------- | ---- | -------- | ------ | -------- |
| year    | INT  | 是       | 年     | 必传     |
| month   | INT  | 否       | 月     | 月份筛选 |
| day     | INT  | 否       | 日     | 日筛选   |
| shipIds | LIST | 是       | 船的ID | 船的ID   |

### 请求示例:

```bash
{    
    "year": 2021,
    "month": 8,
    "day": 12,
    "shipIds": [2]
}
```

### 响应

#### 200

```bash
{
    "data": {
        "qualityCount": 1, // 水质检测
        "riverCount": 0,  // 巡河次数
        "riverWeight": 0, //   // 水面保洁(垃圾重量)
        "riverDistance": 0,  // 巡河距离
        "detectCount": 0,  // 水下探测
        "alarmCount": 0  // 预警事件
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 驾驶舱-巡河总览详情列表：

### 接口地址：/v1/pc/driver/statistics/list/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型   | 是否必传 | 命名     | 备注 |
| ---------- | ------ | -------- | -------- | ---- |
| provinceId | INT    | 否       | 省份ID   | 筛选 |
| cityId     | INT    | 否       | 市ID     | 筛选 |
| watersId   | INT    | 否       | 水域ID   | 筛选 |
| sTime      | STRING | 否       | 开始时间 | 筛选 |
| eTime      | STRING | 否       | 结束时间 | 筛选 |

### 请求示例:

* 

### 响应

#### 200

```bash
{
    "data": {
        "count": 13,
        "list": [
             {
                "id": 26,
                "patrolCount": 1, // 巡河次数
                "distanceCount": "5.054", // 巡河距离
                "qualityCount": 0,  // 水质检测次数
                "cleanWeight": null,  // 水面保洁垃圾重量
                "detectCount": 0,  // 水下探测次数
                "alarmCount": 0,  // 预警事件数量
                "cTime": "1645804800.000000",  // 日期
                "provinceInfo": {  // 省份地区
                    "id": 1,
                    "name": "浙江省"
                },
                "cityInfo": {  // 城市地区
                    "id": 8,
                    "name": "温州市"
                },
                "watersInfo": {  // 水域信息
                    "id": 56,
                    "name": "温瑞塘河"
                },
                "shipInfo": {  // 船名信息
                    "id": 30,
                    "name": "QDF-0017",
                    "number": "0017"
                }
            },
        ],
        "links": {
            "previous": null,
            "next": "http://127.0.0.1:8000/v1/pc/driver/statistics/list/?page=2"
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

### 请求示例:

## 驾驶舱-水下探测总览(日、月、年筛选)：

### 接口地址：/v1/pc/drive/detect/overall/

### 请求方式：POST

### 请求参数：

| 参数名  | 类型 | 是否必传 | 命名   | 备注     |
| ------- | ---- | -------- | ------ | -------- |
| year    | INT  | 是       | 年     | 必传     |
| month   | INT  | 否       | 月     | 月份筛选 |
| shipIds | LIST | 是       | 船的ID | 船的ID   |

### 请求示例:

```bash
{
    "year": 2021,
    "month": 9,
    "shipIds": [2]
}
```

### 响应

#### 200

```bash
{
    "data": {
        "sectionCount": 2, // 测量断面
        "pipelineCount": 3,  // 疑似暗管
        "surveyAreas": 200.0,  // 测绘面积
        "surveyCount": 2,  // 测绘次数
        "detectDistance": 100.0,  // 探测距离
        "detectCount": 2  // 探测次数
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 驾驶舱-水下探测详情列表：

### 接口地址：/v1/pc/driver/detect/list/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型   | 是否必传 | 命名     | 备注 |
| ---------- | ------ | -------- | -------- | ---- |
| provinceId | INT    | 否       | 省份ID   | 筛选 |
| cityId     | INT    | 否       | 市ID     | 筛选 |
| areaId     | INT    | 否       | 区域ID   | 筛选 |
| townId     | INT    | 否       | 镇ID     | 筛选 |
| villageId  | INT    | 否       | 乡ID     | 筛选 |
| watersId   | INT    | 否       | 水域ID   | 筛选 |
| sTime      | STRING | 否       | 开始时间 | 筛选 |
| eTime      | STRING | 否       | 结束时间 | 筛选 |

### 请求示例:

* 

### 响应

#### 200

```bash
{
    "data": {
        "count": 4,
        "list": [
            {
                "id": 4,
                "resultInfo": [ // 异物数量
                    {
                        "lat": "30.21611",
                        "lng": "120.900683",
                        "cTime": "2021-10-02T11:28:54Z",
                        "id": 2,
                        "imageAddress": "http://image.yimingkeji.com/pr/05.png"
                    },
                    {
                        "lat": "30.21611",
                        "lng": "120.900683",
                        "cTime": "2021-10-02T11:28:17Z",
                        "id": 1,
                        "imageAddress": "http://image.yimingkeji.com/pr/05.png"
                    }
                ],
                "waterBodyType": 1,  // 水下异物
                "areas": "333",
                "distance": "444",
                "cTime": "1634832000.000000",
                "mUser": "吕吕吕吕",
                "mMobile": "130696123312",
                "imageAddress": "xxxxxx",  // 如果此字段为空,说明未上传
                "provinceInfo": {
                    "id": 1,
                    "name": "浙江省"
                },
                "cityInfo": {
                    "id": 1,
                    "name": "杭州市"
                },
                "areaInfo": {
                    "id": 1,
                    "name": "萧山区"
                },
                "shipInfo": {
                    "id": 2,
                    "number": "0004"
                },
                "watersInfo": {
                    "id": 2,
                    "name": "西湖"
                }
            }
        ],
        "links": {
            "previous": null,
            "next": null
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

# 巡河事件接口(日筛选)

### 接口地址：/v1/pc/drive/ai_river/day_event/

### 请求方式：POST

### 请求参数：

| 参数名  | 类型   | 是否必传 | 命名 | 备注 |
| ------- | ------ | -------- | ---- | ---- |
| shipIds | LIST   | 是       | 船ID | 船ID |
| date    | STRING | 是       | 日期 |      |

### 请求示例:

```bash
{
    "shipIds": [2],
    "date": "2021-10-03"
}
```

### 响应

#### 200

ai_s_id：见AI识别事件分类

```bash
{
    "data": [
        {
            "ai_s_id__count": 6,
            "ai_s_id": 9
        },
        {
            "ai_s_id__count": 1,
            "ai_s_id": 10
        },
        {
            "ai_s_id__count": 1,
            "ai_s_id": 11
        },
        {
            "ai_s_id__count": 1,
            "ai_s_id": 12
        },
        {
            "ai_s_id__count": 1,
            "ai_s_id": 13
        },
        {
            "ai_s_id__count": 3,
            "ai_s_id": 14
        },
        {
            "ai_s_id__count": 1,
            "ai_s_id": 17
        },
        {
            "ai_s_id__count": 1,
            "ai_s_id": 18
        },
        {
            "ai_s_id__count": 2,
            "ai_s_id": 19
        },
        {
            "ai_s_id__count": 2,
            "ai_s_id": 20
        },
        {
            "ai_s_id__count": 2,
            "ai_s_id": 21
        },
        {
            "ai_s_id__count": 4,
            "ai_s_id": 22
        },
        {
            "ai_s_id__count": 6,
            "ai_s_id": 23
        },
        {
            "ai_s_id__count": 4,
            "ai_s_id": 24
        },
        {
            "ai_s_id__count": 3,
            "ai_s_id": 3
        },
        {
            "ai_s_id__count": 6,
            "ai_s_id": 4
        },
        {
            "ai_s_id__count": 4,
            "ai_s_id": 5
        },
        {
            "ai_s_id__count": 10,
            "ai_s_id": 6
        },
        {
            "ai_s_id__count": 8,
            "ai_s_id": 7
        },
        {
            "ai_s_id__count": 4,
            "ai_s_id": 8
        },
        {
            "ai_s_id__count": 1,
            "ai_s_id": 1
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

# 巡河事件接口(月筛选)

### 接口地址：/v1/pc/drive/ai_river/month_event/

### 请求方式：POST

### 请求参数：

| 参数名  | 类型 | 是否必传 | 命名 | 备注 |
| ------- | ---- | -------- | ---- | ---- |
| shipIds | LIST | 是       | 船ID | 船ID |
| year    | INT  | 是       | 年份 |      |
| month   | INT  | 是       | 月份 |      |

### 请求示例:

```bash
{
    "shipIds": [2],
    "year": 2021,
    "month": 10
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "num": 1,  // 数量
            "c_time": "10-02"  // 当前月
        },
        {
            "num": 71,
            "c_time": "10-03"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

# 巡河事件接口(年筛选)

### 接口地址：/v1/pc/drive/ai_river/year_event/

### 请求方式：POST

### 请求参数：

| 参数名  | 类型 | 是否必传 | 命名 | 备注 |
| ------- | ---- | -------- | ---- | ---- |
| shipIds | LIST | 是       | 船ID | 船ID |
| year    | INT  | 是       | 年份 |      |

### 请求示例:

```bash
{
    "shipIds": [2],
    "year": 2021
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "num": 1,  // 数量
            "c_time": "2021-09" // 月份
        },
        {
            "num": 71,
            "c_time": "2021-10"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

# 安防应急列表详情接口

### 接口地址：/v1/pc/driver/ai_river/list/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型   | 是否必传 | 命名     | 备注 |
| ---------- | ------ | -------- | -------- | ---- |
| provinceId | INT    | 否       | 省份ID   | 筛选 |
| cityId     | INT    | 否       | 市ID     | 筛选 |
| areaId     | INT    | 否       | 区域ID   | 筛选 |
| townId     | INT    | 否       | 镇ID     | 筛选 |
| villageId  | INT    | 否       | 乡ID     | 筛选 |
| watersId   | INT    | 否       | 水域ID   | 筛选 |
| sTime      | STRING | 否       | 开始时间 | 筛选 |
| eTime      | STRING | 否       | 结束时间 | 筛选 |

### 请求示例:

* 

### 响应

#### 200

【分类详情】请求：/v1/pc/ai/second/ 接口查看

```bash
{
    "data": {
        "count": 254,
        "list": [
            {
                "watersId": 15, // 水域ID
                "ship__number": "0010",  // 船的编码
                "cTime": "2022-02-22",  // 日期
                "shipId": 24,  // 船的ID
                "waters__province__name": "浙江省",  // 地区
                "aiS__name": "生活垃圾",  // 分类
                "aiS_id": 1,  // 分类ID  
                "waters__provinceId": 1,  // 地区ID
                "num": 1,  // 分类事件次数
                "waters__name": "中塘河",  // 水域名称
                "ship__name": "QDF-0010"  // 船的名称
            },
        ],
        "links": {
            "previous": "http://127.0.0.1:8000/v1/pc/driver/ai_river/list/",  // 上一页
            "next": "http://127.0.0.1:8000/v1/pc/driver/ai_river/list/?page=3"  // 下一页
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 水面保洁垃圾重量-日筛选：

> 当前接口返回4中类型

### 接口地址：/v1/pc/drive/day/water_clean/rubbish_overall/

### 请求方式：POST

### 请求参数：

| 参数名  | 类型 | 是否必传 | 命名   | 备注   |
| ------- | ---- | -------- | ------ | ------ |
| date    | STR  | 是       | 筛选日 | 必传   |
| shipIds | LIST | 是       | 船的ID | 船的ID |

### 请求示例:

```bash
{
    "shipIds": [3,4],
    "date":"2021-08-01"
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "weight__sum": 30800.0,
            "cleaning_type": 1
        },
        {
            "weight__sum": 27104.0,
            "cleaning_type": 2
        },
        {
            "weight__sum": 12320.0,
            "cleaning_type": 3
        },
        {
            "weight__sum": 19712.0,
            "cleaning_type": 4
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 水面保洁垃圾重量-月筛选：

> 当前接口返回4中类型

### 接口地址：/v1/pc/drive/month/water_clean/rubbish_overall/

### 请求方式：POST

### 请求参数：

| 参数名  | 类型 | 是否必传 | 命名   | 备注   |
| ------- | ---- | -------- | ------ | ------ |
| year    | INT  | 是       | 年     | 必传   |
| month   | INT  | 是       | 月     | 必传   |
| shipIds | LIST | 是       | 船的ID | 船的ID |

### 请求示例:

```bash
{
    "shipIds": [3,4],
    "year": 2021, "month":8
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "weight": 1232.0,
            "s_time": "07-31"
        },
        {
            "weight": 1232.0,
            "s_time": "08-19"
        },
        {
            "weight": 2465.0,
            "s_time": "08-26"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 水面保洁垃圾重量-年筛选：

> 当前接口返回4中类型

### 接口地址：/v1/pc/drive/year/water_clean/rubbish_overall/

### 请求方式：POST

### 请求参数：

| 参数名  | 类型 | 是否必传 | 命名   | 备注   |
| ------- | ---- | -------- | ------ | ------ |
| year    | INT  | 是       | 筛选年 | 必传   |
| shipIds | LIST | 是       | 船的ID | 船的ID |

### 请求示例:

```bash
{
    "shipIds": [3,4],
    "year": 2021
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "weight": 97328.0,
            "s_time": "2021-07"
        },
        {
            "weight": 3697.0,
            "s_time": "2021-08"
        },
        {
            "weight": 1232.0,
            "s_time": "2021-09"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 水面保洁详情列表页：

### 接口地址：/v1/pc/driver/clean/list/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型   | 是否必传 | 命名     | 备注 |
| ---------- | ------ | -------- | -------- | ---- |
| provinceId | INT    | 否       | 省份ID   | 筛选 |
| cityId     | INT    | 否       | 市ID     | 筛选 |
| areaId     | INT    | 否       | 区域ID   | 筛选 |
| townId     | INT    | 否       | 镇ID     | 筛选 |
| villageId  | INT    | 否       | 乡ID     | 筛选 |
| watersId   | INT    | 否       | 水域ID   | 筛选 |
| sTime      | STRING | 否       | 开始时间 | 筛选 |
| eTime      | STRING | 否       | 结束时间 | 筛选 |

### 请求示例:

* 

### 响应

#### 200

```bash
clean_choices 字段：
(1, "水上植物"),
(2, u"生活垃圾"),
(3, u"油污收集"),
(4, u"水下植物")
```

```bash
category：
# 水上植物
(1, u"水葫芦"),
(2, u"浮萍"),
(3, u"蓝藻"),
(4, u"青苔"),
(5, u"落叶"),
(6, u"树枝"),
(7, u"浮泥"),

# 生活垃圾
(8, u"塑料袋"),
(9, u"塑料瓶"),
(10, u"玻璃瓶"),
(11, u"轻金属"),
(12, u"纸箱"),

# 油污收集
(13, u"动植物油"),
(14, u"石油"),
(15, u"油性颜料"),

# 水下植物
(16, u"枯草"),
(17, u"金鱼藻"),
(18, u"狐尾藻"),
(19, u"黑藻"),
(20, u"小茨藻")
```

```bash
// 具体查看详情接口
{
    "data": {
        "count": 6,
        "list": [
            {
                "id": 6,
                "provinceInfo": { // 省份信息
                    "id": 1,
                    "name": "浙江省"
                },
                "cityInfo": {  // 城市信息
                    "id": 1,
                    "name": "杭州市"
                },
                "areaInfo": {  // 区域信息
                    "id": 1,
                    "name": "萧山区"
                },
                "townInfo": {},  // 城镇信息
                "villageInfo": {},  // 城乡信息
                "shipInfo": {  // 船体信息
                    "id": 2,
                    "number": "0003"
                },
                "watersInfo": {  // 水域信息
                    "id": 1,
                    "name": "西湖"
                },
                "userInfo": {  // 驾驶人信息
                    "mobile": "13069634822",
                    "id": 4,
                    "name": "吕品品"
                },
                "sTime": "1627747200.000000",  // 开始日期
                "eTime": "1630512000.000000",   // 结束日期
                "category": 11,  // 二级分类
                "cleaningType": 1,  // 一级分类
                "areas": "666",  // 面积 
                "distance": "123",  // 距离
                "weight": "1232"  // 垃圾总量
            },
        ],
        "links": {
            "previous": null,
            "next": null
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 水质-日筛查接口：

### 接口地址：v1/pc/driver/water_quality/day/

### 请求方式：POST

### 请求参数：

| 参数名   | 类型   | 是否必传 | 命名     | 备注 |
| -------- | ------ | -------- | -------- | ---- |
| tsDate   | INT    | 是       | 时间戳   | 毫秒 |
| watersId | LIST   | 是       | 水域ID   |      |
| shipNum  | STRING | 是       | 船的编号 |      |

### 请求示例:

```bash
{
    "tsDate": 1636646400000,  // 时间戳	
    "shipNum": "0004",  // 船的编号
    "watersId": 14  // 水域ID
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "waters": {
                "id": 14,
                "name": "莫愁湖"
            },
            "turbidity": "",
            "chlorophy": "",
            "k": "",
            "oxy_saturation": "",
            "diss_oxy": "",
            "nh4": "",
            "cod": "",
            "nh3": "",
            "s_time": 1636680459,
            "ph": "",
            "_id": "618dc303ad0529004935b328",
            "ship": {
                "number": "0004",
                "id": 17,
                "name": "QDF-0004"
            }
        }
     ]
  }
```

## 水质-月筛查接口：

### 接口地址：v1/pc/driver/water_quality/month/

### 请求方式：POST

### 请求参数：

| 参数名   | 类型   | 是否必传 | 命名     | 备注 |
| -------- | ------ | -------- | -------- | ---- |
| year     | INT    | 是       | 年       |      |
| month    | INT    | 是       | 月       |      |
| shipNum  | STRING | 是       | 船的编号 |      |
| watersId | INT    | 是       | 水域ID   |      |

### 请求示例:

```bash
{
    "year": 2021,
    "month": 6,
    "watersId": 15,
    "shipNum": "0004"
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "k": null,
            "oxy_saturation": null,
            "diss_oxy": 4.281625000000001,
            "nh4": null,
            "cod": 30.605216666666664,
            "nh3": 4.298916666666667,
            "s_time": "06-18",
            "ph": 7.499624999999999,
            "turbidity": 46.69883333333333
        },
        {
            "k": null,
            "oxy_saturation": null,
            "diss_oxy": 0.7152333333333334,
            "nh4": null,
            "cod": 25.290999999999997,
            "nh3": 4.644833333333334,
            "s_time": "06-19",
            "ph": 7.364666666666667,
            "turbidity": 33.57033333333333
        },
        {
            "k": null,
            "oxy_saturation": null,
            "diss_oxy": 2.4697666666666667,
            "nh4": null,
            "cod": 55.73033333333333,
            "nh3": 2.596,
            "s_time": "06-21",
            "ph": 7.0183,
            "turbidity": 73.23299999999999
        },
        {
            "k": null,
            "oxy_saturation": null,
            "diss_oxy": 1.8558333333333337,
            "nh4": null,
            "cod": 40.4595,
            "nh3": 2.7744999999999997,
            "s_time": "06-22",
            "ph": 6.996833333333334,
            "turbidity": 55.75216666666666
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 水质-年筛查接口：

### 接口地址：v1/pc/driver/water_quality/year/

### 请求方式：POST

### 请求参数：

| 参数名   | 类型   | 是否必传 | 命名     | 备注 |
| -------- | ------ | -------- | -------- | ---- |
| year     | INT    | 是       | 年       |      |
| shipNum  | STRING | 是       | 船的编号 |      |
| watersId | INT    | 是       | 水域ID   |      |

### 请求示例:

```bash
{
    "year": 2021,
    "watersId": 15,
    "shipNum": "0004"
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "k": null,
            "oxy_saturation": null,
            "diss_oxy": 2.3306145833333334,
            "nh4": null,
            "cod": 38.02151249999999,
            "nh3": 3.578562499999999,
            "s_time": "2021-06",
            "ph": 7.219856249999999,
            "turbidity": 52.31358333333333
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 水质检测详情列表页：

### 接口地址：v1/pc/driver/fixed_point/list/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型   | 是否必传 | 命名     | 备注 |
| ---------- | ------ | -------- | -------- | ---- |
| provinceId | INT    | 否       | 省份ID   | 筛选 |
| cityId     | INT    | 否       | 市ID     | 筛选 |
| areaId     | INT    | 否       | 区域ID   | 筛选 |
| townId     | INT    | 否       | 镇ID     | 筛选 |
| villageId  | INT    | 否       | 乡ID     | 筛选 |
| watersId   | INT    | 否       | 水域ID   | 筛选 |
| sTime      | STRING | 否       | 开始时间 | 筛选 |
| eTime      | STRING | 否       | 结束时间 | 筛选 |

### 请求示例:

* 

### 响应

#### 200

```bash
{
    "data": {
        "count": 24,
        "list": [
            {
                "id": 35,
                "lng": "121.613764",
                "lat": "29.865482",
                "ph": "6.99",
                "nh3": "2.51",
                "nh4": null,
                "k": null,
                "cod": "41.46",
                "turbidity": "57.24",
                "dissOxy": "2.038",
                "oxySaturation": null,
                "cTime": "1624324091.000000",
                "wqTs": null,
                "provinceInfo": {
                    "id": 1,
                    "name": "浙江省"
                },
                "cityInfo": {
                    "id": 8,
                    "name": "温州市"
                },
                "areaInfo": {
                    "id": 12,
                    "name": "瑞安市"
                },
                "shipInfo": {
                    "id": 17,
                    "name": "QDF-0004",
                    "number": "0004"
                },
                "watersInfo": {
                    "id": 15,
                    "name": "中塘河"
                },
                "waterQualityInfo": {
                    "lat": "29.865482",
                    "lng": "121.613764",
                    "id": 20,
                    "name": "中唐河",
                    "number": "暗管-001"
                }
            }
        ],
        "links": {
            "previous": null,
            "next": "http://127.0.0.1:8000/v1/pc/driver/fixed_point/list/?page=2"
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

