# 智慧水域-数据大屏-综合业务

描述:

> 业务总览、

**字段描述**：

business_type：(业务总览)

```bash
(1, u"水面保洁"),
(2, u"切割打捞"),
(3, u"水质检测"),
(4, u"水下探测"),
(5, u"试剂投放"),
(6, u"智能巡河")
```

cleaning_type:（水面保洁业务）

```bash
(1, u"水上植物"),
(2, u"生活垃圾"),
(3, u"油污收集"),
(4, u"水下植物")
```

## 业务总览：

> 当前接口总共业务类型目前那有6种，如果近返回3种，那么前端需要用0来进行补充。

### 接口地址：/v1/pc/business/overall/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名     | 备注                     |
| ---------- | ---- | -------- | -------- | ------------------------ |
| year       | INT  | 否       | 筛选年份 | 默认是当年               |
| month      | INT  | 否       | 筛选月份 | 默认是当月               |
| projectIds | LIST | 是       | 项目ID   | 登录成功以后返回的项目ID |

### 请求示例:

```bash
{
    "projectIds": [3,4],
    "month": 9,
    "year": 2020
}
```

### 响应

#### 200

```bash
{
    "data": {
        "patrolRiver": 1, // 智能巡河
        "cut": 0, // 切割/打捞
        "reagent": 0,  // 试剂投放
        "detect": 0, // 水下探测
        "cleaning": 0,  // 水面保洁
        "quality": 0  // 水质检测
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 业务总览详情：

### 接口地址：v1/pc/business/overall/list/

### 请求方式：POST

### 请求参数：

| 参数名       | 类型   | 是否必传 | 命名       | 备注 |
| ------------ | ------ | -------- | ---------- | ---- |
| businessType | INT    | 否       | 业务员类型 | 筛选 |
| provinceId   | INT    | 否       | 省份ID     | 筛选 |
| cityId       | INT    | 否       | 市ID       | 筛选 |
| areaId       | INT    | 否       | 区域ID     | 筛选 |
| townId       | INT    | 否       | 镇ID       | 筛选 |
| villageId    | INT    | 否       | 乡ID       | 筛选 |
| watersId     | INT    | 否       | 水域ID     | 筛选 |
| sTime        | STRING | 否       | 开始时间   | 筛选 |
| eTime        | STRING | 否       | 结束时间   | 筛选 |
| projectIds   | LIST   | 是       | 项目ID     |      |

### 请求示例:

* 

### 响应

#### 200

```bash
{
    "data": {
        "count": 17,
        "list": [
            {
                "id": 49,  // 项目ID
                "amount": null,  // 金额
                "num": "HMH-001",  // 项目编号
                "name": "昆明湖项目",  // 项目名称 
                "businessType": 6,  // 业务类型 见详情
                "projectType": 1,  // 项目类型
                "areas": "",  // 面积
                "distance": "",  // 地区
                "evaluation": null,  // 评价
                "provinceInfo": {},  // 省份信息
                "cityInfo": {},  // 城市信息
                "areaInfo": {},  // 区域信息
                "townInfo": {},
                "villageInfo": {},
                "areaType": null,  // 区域
                "watersInfo": {  // 水域信息
                    "id": 33,
                    "name": "昆明湖"
                },
                "sTime": "1635609600.000000",  // 开始时间
                "eTime": "1635609600.000000",  // 结束时间
                "saleAmount": null,  // 销售金额 
                "projectShip": [  // 几艘船
                    {
                        "shipId": 20,  // 船的ID
                        "shipType": 1,  // 船的类型 1:无人船  2:冲锋舟
                        "id": 19,  
                        "shipNumber": "0007",  // 船的编号
                        "shipName": "QDF-0007"  // 船的名称
                    }
                ],
                "salesType": null,  // 销售类型
                "oUser": "",  // 业主
                "oCompany": "",  // 业主单位
                "oMobile": "",  // 业主手机号
                "sUser": "",  // 销售姓名
                "sMobile": "",  // 销售手机号
                "sCompany": ""  // 销售公司
            },
        ],
        "links": {
            "previous": null,
            "next": "http://127.0.0.1:8000/v1/pc/business/overall/list/?page=2"
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 保洁总览(默认年总览)：

> 当前接口返回4中类型

### 接口地址：/v1/pc/cleaning/overall/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名     | 备注                     |
| ---------- | ---- | -------- | -------- | ------------------------ |
| year       | INT  | 否       | 筛选年份 | 默认是当年               |
| projectIds | LIST | 是       | 项目ID   | 登录成功以后返回的项目ID |

### 请求示例:

```bash
{
    "projectIds": [3,4],
    "month": 9,
    "year": 2020
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "cleaning_type__count": 30, // 数量
            "cleaning_type": 1  // 保洁类型
        },
        {
            "cleaning_type__count": 25,
            "cleaning_type": 2
        },
        {
            "cleaning_type__count": 10,
            "cleaning_type": 3
        },
        {
            "cleaning_type__count": 19,
            "cleaning_type": 4
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 保洁总览(日筛选)：

> 当前接口返回4中类型

### 接口地址：/v1/pc/day/cleaning/overall/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名   | 备注                     |
| ---------- | ---- | -------- | ------ | ------------------------ |
| date       | STR  | 是       | 筛选日 | 必传                     |
| projectIds | LIST | 是       | 项目ID | 登录成功以后返回的项目ID |

### 请求示例:

```bash
{
    "projectIds": [3,4],
    "date":"2021-07-03"
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "cleaning_type__count": 30, // 数量
            "cleaning_type": 1  // 保洁类型
        },
        {
            "cleaning_type__count": 25,
            "cleaning_type": 2
        },
        {
            "cleaning_type__count": 10,
            "cleaning_type": 3
        },
        {
            "cleaning_type__count": 19,
            "cleaning_type": 4
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 保洁总览(月筛选)：

> 当前接口返回4中类型

### 接口地址：/v1/pc/month/cleaning/overall/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名   | 备注                     |
| ---------- | ---- | -------- | ------ | ------------------------ |
| month      | INT  | 是       | 筛选月 | 必传                     |
| year       | INT  | 是       | 筛选年 | 必传                     |
| projectIds | LIST | 是       | 项目ID | 登录成功以后返回的项目ID |

### 请求示例:

```bash
{
    "projectIds": [3,4],
    "month": 7,
    "year": 2021
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "num": 2, // 数量
            "s_time": "07-30" // 月份
        },
        {
            "num": 1,
            "s_time": "07-29"
        },
        {
            "num": 1,
            "s_time": "07-31"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 保洁总览(年筛选)：

> 当前接口返回4中类型

### 接口地址：/v1/pc/year/cleaning/overall/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名   | 备注                     |
| ---------- | ---- | -------- | ------ | ------------------------ |
| year       | INT  | 是       | 筛选年 | 必传                     |
| projectIds | LIST | 是       | 项目ID | 登录成功以后返回的项目ID |

### 请求示例:

```bash
{
    "projectIds": [3,4],
    "year": 2021
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "num": 80, // 数量
            "s_time": "2021-07" // 月份
        },
        {
            "num": 1,
            "s_time": "2021-09"
        },
        {
            "num": 2,
            "s_time": "2021-08"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 保洁详情：

### 接口地址：v1/pc/cleaning/overall/list/

### 请求方式：POST

### 请求参数：

| 参数名       | 类型   | 是否必传 | 命名     | 备注 |
| ------------ | ------ | -------- | -------- | ---- |
| cleaningType | INT    | 否       | 保洁类型 | 筛选 |
| provinceId   | INT    | 否       | 省份ID   | 筛选 |
| cityId       | INT    | 否       | 市ID     | 筛选 |
| areaId       | INT    | 否       | 区域ID   | 筛选 |
| townId       | INT    | 否       | 镇ID     | 筛选 |
| villageId    | INT    | 否       | 乡ID     | 筛选 |
| watersId     | INT    | 否       | 水域ID   | 筛选 |
| sTime        | STRING | 否       | 开始时间 | 筛选 |
| eTime        | STRING | 否       | 结束时间 | 筛选 |
| projectIds   | LIST   | 是       | 项目ID   |      |

### 请求示例:

* 

### 响应

#### 200

```bash
// 具体查看详情接口
{
    "data": {
        "count": 6,
        "list": [
            {
                "id": 6,
                "provinceInfo": {
                    "id": 1,
                    "name": "浙江省"
                },
                "cityInfo": {
                    "id": 1,
                    "name": "杭州市"
                },
                "areaInfo": {
                    "id": 1,
                    "name": "萧山区"
                },
                "townInfo": {},
                "villageInfo": {},
                "shipInfo": {
                    "id": 2,
                    "number": "0003"
                },
                "watersInfo": {
                    "id": 1,
                    "name": "西湖"
                },
                "userInfo": {
                    "mobile": "13069634822",
                    "id": 4,
                    "name": "吕品品"
                },
                "sTime": "1627747200.000000",
                "eTime": "1630512000.000000",
                "category": 11,
                "cleaningType": 1,
                "areas": "666",
                "distance": "123",
                "weight": "1232"
            },
        ],
        "links": {
            "previous": null,
            "next": null
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 水下探测

> 当前接口返回4中类型

### 接口地址：/v1/pc/detect/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名   | 备注                     |
| ---------- | ---- | -------- | ------ | ------------------------ |
| projectIds | LIST | 是       | 项目ID | 登录成功以后返回的项目ID |

### 请求示例:

```bash
{"projectIds": [3]}
```

### 响应

#### 200

```bash
{
    "data": [
        [
            {
                "detect": [  // 探测详情信息
                    {
                        "s_time": "2021-08-01T16:00:00Z",  // 探测时间
                        "detect_type": 2,  // 1:多波束  2:侧扫
                        "name": "断面001",  // 断面名称
                        "image_address": "http://image.yimingkeji.com/cesao/ningbo_houtanghe_2021_0525_e2w.mp4"  // 地址
                    },
                    {
                        "s_time": "2021-09-11T12:07:21Z",
                        "detect_type": 2,
                        "name": "断面002",
                        "image_address": "http://image.yimingkeji.com/cesao/ningbo_houtanghe_2021_0525_e2w.mp4"
                    }
                ],
                "id": 2,  // 水域ID
                "name": "西湖" // 水域名称
            }
        ]
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 水下探测详情页：

### 接口地址：v1/pc/detect/list/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型   | 是否必传 | 命名     | 备注 |
| ---------- | ------ | -------- | -------- | ---- |
| detectType | INT    | 否       | 水域类型 | 筛选 |
| provinceId | INT    | 否       | 省份ID   | 筛选 |
| cityId     | INT    | 否       | 市ID     | 筛选 |
| areaId     | INT    | 否       | 区域ID   | 筛选 |
| townId     | INT    | 否       | 镇ID     | 筛选 |
| villageId  | INT    | 否       | 乡ID     | 筛选 |
| watersId   | INT    | 否       | 水域ID   | 筛选 |
| sTime      | STRING | 否       | 开始时间 | 筛选 |
| eTime      | STRING | 否       | 结束时间 | 筛选 |
| projectIds | LIST   | 是       | 项目ID   |      |

### 请求示例:

```bash
{
	"projectIds": [1,2,3]
}
```

### 响应

#### 200

```bash
{
    "data": {
        "count": 2, // 总数
        "list": [
            {
                "id": 5,  // 探测ID
                "detectType": 2,  // 探测类型
                "areas": "123",  // 面积
                "distance": "123136666", // 距离
                "sTime": "1627833600.000000", // 开始时间
                "eTime": "1627920000.000000",  // 结束时间
                "name": "断面0002", // 断面名称
                "coordinateInfo": [  // 坐标信息 如果当前字段不为空,显示在水下异物那里
                    {
                        "lat": "3123",  // 纬度
                        "lng": "3123",  // 经度
                        "cTime": "2021-08-15T11:54:13Z",  // 时间
                        "id": 2,
                        "name": "暗管2"  // 名称
                    },
                    {
                        "lat": "123132",
                        "lng": "1231",
                        "cTime": "2021-08-15T11:53:57Z",
                        "id": 1,
                        "name": "暗管1"
                    }
                ],
                "imageAddress": "http://image.yimingkeji.com/cesao/ningbo_houtanghe_2021_0525_e2w.mp4",  // 视频地址
                "provinceInfo": {  // 省份信息
                    "id": 1,
                    "name": "浙江省"
                },
                "cityInfo": {
                    "id": 1,
                    "name": "杭州市"
                },
                "areaInfo": {
                    "id": 1,
                    "name": "萧山区"
                },
                "townInfo": {},
                "villageInfo": {},
                "shipInfo": { // 船相关信息
                    "id": 2,
                    "number": "0002"
                },
                "watersInfo": {  // 水域信息
                    "id": 2,
                    "name": "西湖"
                }
            }
        ],
        "links": {
            "previous": null,
            "next": null
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 安防应急-默认年份占位

### 接口地址：/v1/pc/ai_alert/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名     | 备注                     |
| ---------- | ---- | -------- | -------- | ------------------------ |
| year       | INT  | 否       | 年份筛选 | 默认当前年份             |
| projectIds | LIST | 是       | 项目ID   | 登录成功以后返回的项目ID |

### 请求示例:

```bash
{"projectIds": [3], "year":2021}
```

### 响应

#### 200

```bash
// ai_p_id 见智能AI列表接口
{
    "data": [
        {
            "ai_p_id": 1,
            "ai_p_id__count": 51
        },
        {
            "ai_p_id": 2,
            "ai_p_id__count": 17
        },
        {
            "ai_p_id": 3,
            "ai_p_id__count": 10
        },
        {
            "ai_p_id": 4,
            "ai_p_id__count": 9
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 安防应急-日筛选

### 接口地址：/v1/pc/day/ai_alert/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型   | 是否必传 | 命名   | 备注                     |
| ---------- | ------ | -------- | ------ | ------------------------ |
| date       | STRING | 是       | 日筛选 |                          |
| projectIds | LIST   | 是       | 项目ID | 登录成功以后返回的项目ID |

### 请求示例:

```bash
{"projectIds": [3], "date": "2021-08-01"}
```

### 响应

#### 200

```bash
// ai_s_id: 见智能AI列表接口
{
    "data": [
        {
            "ai_s_id__count": 12,
            "ai_s_id": 1
        },
        {
            "ai_s_id__count": 2,
            "ai_s_id": 2
        },
        {
            "ai_s_id__count": 6,
            "ai_s_id": 3
        },
        {
            "ai_s_id__count": 6,
            "ai_s_id": 4
        },
        {
            "ai_s_id__count": 4,
            "ai_s_id": 5
        },
        {
            "ai_s_id__count": 10,
            "ai_s_id": 6
        },
        {
            "ai_s_id__count": 7,
            "ai_s_id": 7
        },
        {
            "ai_s_id__count": 4,
            "ai_s_id": 8
        },
        {
            "ai_s_id__count": 8,
            "ai_s_id": 9
        },
        {
            "ai_s_id__count": 1,
            "ai_s_id": 10
        },
        {
            "ai_s_id__count": 1,
            "ai_s_id": 11
        },
        {
            "ai_s_id__count": 1,
            "ai_s_id": 12
        },
        {
            "ai_s_id__count": 1,
            "ai_s_id": 13
        },
        {
            "ai_s_id__count": 3,
            "ai_s_id": 14
        },
        {
            "ai_s_id__count": 1,
            "ai_s_id": 17
        },
        {
            "ai_s_id__count": 1,
            "ai_s_id": 18
        },
        {
            "ai_s_id__count": 2,
            "ai_s_id": 19
        },
        {
            "ai_s_id__count": 2,
            "ai_s_id": 20
        },
        {
            "ai_s_id__count": 2,
            "ai_s_id": 21
        },
        {
            "ai_s_id__count": 4,
            "ai_s_id": 22
        },
        {
            "ai_s_id__count": 6,
            "ai_s_id": 23
        },
        {
            "ai_s_id__count": 3,
            "ai_s_id": 24
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 安防应急-月筛选

### 接口地址：/v1/pc/month/ai_alert/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名   | 备注                     |
| ---------- | ---- | -------- | ------ | ------------------------ |
| month      | INT  | 是       | 月     |                          |
| year       | INT  | 是       | 年     |                          |
| projectIds | LIST | 是       | 项目ID | 登录成功以后返回的项目ID |

### 请求示例:

```bash
{
	"projectIds": [3],
  "year": 2021,
  "month": 8
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "num": 1,  // 数量
            "s_time": "08-01"  // 日期
        },
        {
            "num": 1,
            "s_time": "08-02"
        },
        {
            "num": 4,
            "s_time": "08-06"
        },
        {
            "num": 1,
            "s_time": "08-11"
        },
        {
            "num": 1,
            "s_time": "08-14"
        },
        {
            "num": 4,
            "s_time": "08-16"
        },
        {
            "num": 1,
            "s_time": "08-18"
        },
        {
            "num": 1,
            "s_time": "08-28"
        },
        {
            "num": 1,
            "s_time": "08-29"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 安防应急-年筛选

### 接口地址：/v1/pc/year/ai_alert/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名   | 备注                     |
| ---------- | ---- | -------- | ------ | ------------------------ |
| year       | INT  | 是       | 年     |                          |
| projectIds | LIST | 是       | 项目ID | 登录成功以后返回的项目ID |

### 请求示例:

```bash
{
	"projectIds": [3],
  "year": 2021
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "num": 72,// 数量
            "s_time": "2021-07"  // 时间
        },
        {
            "num": 15,
            "s_time": "2021-08"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 安防应急-详情

### 接口地址：/v1/pc/ai_alert/list/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型   | 是否必传 | 命名         | 备注 |
| ---------- | ------ | -------- | ------------ | ---- |
| aiPId      | INT    | 否       | 一级事件类型 | 筛选 |
| aiSId      | INT    | 否       | 二级事件类型 | 筛选 |
| aiTId      | INT    | 否       | 三级时间类型 | 筛选 |
| provinceId | INT    | 否       | 省份ID       | 筛选 |
| cityId     | INT    | 否       | 市ID         | 筛选 |
| areaId     | INT    | 否       | 区域ID       | 筛选 |
| townId     | INT    | 否       | 镇ID         | 筛选 |
| villageId  | INT    | 否       | 乡ID         | 筛选 |
| watersId   | INT    | 否       | 水域ID       | 筛选 |
| sTime      | STRING | 否       | 开始时间     | 筛选 |
| eTime      | STRING | 否       | 结束时间     | 筛选 |
| projectIds | LIST   | 是       | 项目ID       |      |

### 请求示例:

```bash
{"projectIds": [3,4]}
```

### 响应

#### 200

```bash
{
    "data": {
        "count": 10,
        "list": [
            {
                "id": 45, // 监控ID
                "address": "xxxx",  // 地址
                "lng": "1231",  // 经度
                "lat": "123", // 纬度
                "isReported": true,  // 是否审核
                "sTime": "1627747200.000000",  // 开始时间
                "eTime": "1627747200.000000", // 结束时间
                "provinceInfo": {  // 省份
                    "id": 1,
                    "name": "浙江省"
                },
                "cityInfo": {  // 城市
                    "id": 1,
                    "name": "杭州市"
                }, 
                "areaInfo": {  // 地区
                    "id": 1,
                    "name": "萧山区"
                },
                "townInfo": {},  // 镇
                "villageInfo": {},  // 乡
                "shipInfo": { // 船相关信息
                    "userName": "吕品品123",  // 运维人员
                    "userId": 1,
                    "id": 2,
                    "userMobile": "13069634826",
                    "number": "0002"
                },
                "watersInfo": {  // 水域
                    "id": 2,
                    "name": "西湖"
                },
                "userInfo": {  // 业主相关信息
                    "mobile": "13069634826",
                    "id": 1,
                    "name": "吕品品123"
                },
                "aiP_info": {  // 一级事件分类
                    "id": 3,
                    "name": "异常行为"
                }, 
                "aiS_info": {  // 二级事件分类
                    "text": "造船厂视频监控",
                    "id": 22,
                    "name": "安全生产"
                },
                "aiT_info": {  // 三级事件分类
                    "id": 86,
                    "name": "工作时间睡觉"
                }
            }
        ],
        "links": {
            "previous": null,
            "next": null
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 无人船信息-项目

### 接口地址：/v1/pc/ship/basic_info/

### 请求方式：POST

### 请求参数：

| 参数名 | 类型 | 是否必传 | 命名   | 备注 |
| ------ | ---- | -------- | ------ | ---- |
| shipId | INT  | 是       | 船的ID |      |

### 请求示例:

```bash
{
    "shipId": 2
}
```

### 响应

#### 200

```bash
{
    "data": {
        "areaId": 24, // 区域ID
        "cityId": 2,  // 城市ID
        "shipZipStreamAddress": "rtsp://47.110.158.224:8088/live",  // 船的视频
        "city__name": "苏州市",  // 城市名称
        "sUser": "",  // 市场用户
        "sMobile": "",  // 市场联系方式
        "sTime": "2021-06-19T07:52:10Z",  // 日期
        "id": 43,  // 项目ID
        "oMobile": "13812694035", // 业主联系
        "shipNumber": "0004", // 船的编号
        "oCompany": "苏州河道处",  // 业主单位
        "province__name": "江苏省",  // 省份名称
        "shipType": 1,  // 船的类型 1:无人船、 2:冲锋舟
        "oUser": "张悦",  // 业主姓名
        "area__name": "姑苏区",  // 区域ID
        "provinceId": 2,  // 省份ID
        "areas": "15",  // 面积
        "businessType": 1,  // 业务类型
        "distance": "",  //距离
        "shipId": 17,  // 船的ID
        "sCompany": "",  // 市场单位
        "shipStreamAddress": "https://open.ys7.com/v3/openlive/F10241120_1_1.m3u8?expire=1665193719&id=368334213313818624&t=1f7fce07c06b3e49718561650e7f7921091d9add00e81b390960eb05f00a8eb1&ev=100"  // 船的流
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 无人船状态信息

### 接口地址：/v1/pc/ship/state/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名   | 备注 |
| ---------- | ---- | -------- | ------ | ---- |
| projectIds | LIST | 是       | 项目ID |      |

### 请求示例:

```bash
{
    "projectIds":[3,4]
}
```

### 响应

#### 200

```bash
{
    "data": {
        "fault": 0,  // 故障
        "offline": 1, // 离线
        "warning": 0,  // 预警
        "normal": 1 // 在线
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 无人船信息-预警事件

> 接口仅返回当天产生的预警事件

### 接口地址：/v1/pc/alert/detail/

### 请求方式：POST

### 请求参数：

| 参数名  | 类型 | 是否必传 | 命名   | 备注                                  |
| ------- | ---- | -------- | ------ | ------------------------------------- |
| waterId | INT  | 是       | 水域ID | 登录时会返回 或在无人船基本信息会返回 |
| shipId  | INT  | 是       | 船的ID | 登录时会返回                          |

### 请求示例:

```bash
{
    "waterId":2,
    "shipId": 2
}
```

### 响应

#### 200

```bash
{
    "data": {
        "count": 3, // 总数
        "list": [
            {
                "id": 92,  // ID
                "sTime": "1631376000.000000", // 时间
                "aiS_name": "生活垃圾", // 二级预警名称
                "aiS_id": 1, // 二级预警ID
                "address": "xxxx",  // 图片地址
                "lng": "1231",  // 经度
                "lat": "123"  // 纬度
            },
            {
                "id": 91,
                "sTime": "1631376000.000000",
                "aiS_name": "水下异物",
                "aiS_id": 24,
                "address": "xxxx",
                "lng": "1231",
                "lat": "123"
            },
            {
                "id": 90,
                "sTime": "1631376000.000000",
                "aiS_name": "阻水生物",
                "aiS_id": 7,
                "address": "xxxx",
                "lng": "1231",
                "lat": "123"
            }
        ],
        "links": {
            "previous": null,
            "next": null
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 无人船信息-额外信息

### 接口地址：/v1/pc/ship/extra/

### 请求方式：POST

### 请求参数：

| 参数名 | 类型 | 是否必传 | 命名   | 备注         |
| ------ | ---- | -------- | ------ | ------------ |
| shipId | INT  | 是       | 船的ID | 登录时会返回 |

### 请求示例:

```bash
{
    "shipId": 2
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "load": null, //  载重
            "ship_ts": "1632110130",  // 船的时间戳
            "ship_id": 2,  // 船的ID
            "electricity": "92.5",  // 电量
            "navigation_time": null,  // 导航时间
            "carry": null,  // 搭载设备
            "course": "121.652252197",  // 航向
            "ship__status": 0,  // 状态 0:正常 1:离线 2:故障 3:预警
            "drive_type": 1, // 驾驶模式 1:云接管  2:人工驾驶
            "lat": "31.400111",  // 纬度
            "lng": "120.8671099",  // 经度
            "speed": "0.00389416409598",  // 航速
            "id": 1 
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 地图-展示事件信息

> 1.根据登录账号，返回的water_id 与 ship_id 进行入参
>
> 2.返回当日所有船产生的预警数据

### 接口地址：/v1/pc/map/alert/

### 请求方式：POST

### 请求参数：

| 参数名    | 类型 | 是否必传 | 命名     | 备注                     |
| --------- | ---- | -------- | -------- | ------------------------ |
| alertData | LIST | 是       | 预警信息 | 当前账号对应的水域、船ID |

### 请求示例:

```bash
{
    "alertData": [
        {
            "shipId": 16,
            "waterId": 15,
            "cTime": "2021-12-07"  // 不传就是当前日期，传递就是历史日期
        }
    ]
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "shipNum": "0009", // 船的编号
            "shipId": 27,  // 船的ID
            "alertData": []
        },
        {
            "shipNum": "0001",
            "shipId": 15,
            "alertData": []
        },
        {
            "shipNum": "0017",
            "shipId": 30,
            "alertData": [  // 预警信息
                { 
                    "id": 102,  // 预警ID
                    "sTime": "1635893610.000000",  // 预警事件
                    "aiS_name": "生活垃圾",  // 二级分类名称
                    "aiS_id": 1,  // 二级分类ID
                    "address": null,  // 地址
                    "lng": "120.644527371", // 经度
                    "lat": "31.3188189907",  // 纬度
                    "videoAddress": "http://qingdaofu-bucket.oss-cn-hangzhou.aliyuncs.com/river/1623224610994.mp4",  // 视频地址
                    "imageAddress": "http://qingdaofu-bucket.oss-cn-hangzhou.aliyuncs.com/river/1623224580810.png",  // 图片地址
                    "cTime": "1637997269.286400"  // 预警时间
                }
            ]
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 监控平台-详情页

### 接口地址：/v1/pc/monitor/video/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型   | 是否必传 | 命名     | 备注 |
| ---------- | ------ | -------- | -------- | ---- |
| provinceId | INT    | 否       | 省份ID   | 筛选 |
| cityId     | INT    | 否       | 市ID     | 筛选 |
| areaId     | INT    | 否       | 区域ID   | 筛选 |
| watersId   | INT    | 否       | 水域ID   | 筛选 |
| sTime      | STRING | 否       | 开始时间 | 筛选 |
| eTime      | STRING | 否       | 结束时间 | 筛选 |
| projectIds | LIST   | 是       | 项目ID   |      |

### 请求示例:

```bash
{
   "projectIds": [3]
}
```

### 响应

#### 200

```bash
{
    "data": {
        "count": 1,
        "list": [
            {
                "id": 2,  // 船ID
                "number": "0017",     // 船的编号
                "name": "西湖前进号",  // 船的名称
                "password": "608d0cc4246e1809df3e2ce1658fca09",  // 密码
                "status": 0,  // 状态
                "userInfo": {  // 运维人员信息
                    "mobile": "13069634826",
                    "id": 1,
                    "name": "吕品品123"
                },
                "shipRunTs": "1630771200",  // 船行驶时的时间
                "provinceInfo": { // 省份信息
                    "id": 1,
                    "name": "浙江省"
                },
                "cityInfo": {  // 城市信息
                    "id": 1,
                    "name": "杭州市"
                }, 
                "areaInfo": {  // 区信息
                    "id": 1,
                    "name": "萧山区"
                },
                "townInfo": {},  
                "villageInfo": {},
                "cameraId": "1",
                "ip": "111.222.11.1",
                "commandPort": 1231,
                "videoPort": 881,
                "shipPort": 8123,
                "streamAddress": "xxx.xxx.xxx",  // 流地址
                "zipStreamAddress": "11.11.2.2",
                "cameraNum": "932",
                "cameraChannel": "1",
                "memo": "",
                "isEnabled": false,
                "oTime": null,
                "pTime": "1627750800.000000",
                "model": "保洁型",
                "watersInfo": {
                    "id": 2,
                    "name": "西湖"
                },
                "stateId": "1", 
                "stateLng": "120.900683",  // 经度
                "stateCarry": "4", // 搭载设备
                "stateLat": "30.21611",  // 纬度
                "stateSpeed": "1",  // 航速
                "stateCourse": "2",  // 航向
                "stateElectricity": "80",  // 电量
                "stateLoad": "3"  // 载重
            }
        ],
        "links": {
            "previous": null,
            "next": null
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 监控平台-详情页-启用船监控(接口弃用)

> 在监控详情页中-启动船监控, 可在首页业务总览里看到实时视频窗口

### 接口地址：/v1/pc/monitor/video/is_enabled/

### 请求方式：POST

### 请求参数：

| 参数名 | 类型 | 是否必传 | 命名   | 备注 |
| ------ | ---- | -------- | ------ | ---- |
| shipId | INT  | 是       | 船的ID | 筛选 |

### 请求示例:

```bash
{
   "shipId": 2
}
```

### 响应

#### 200

```bash
{
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 监控平台-详情页-禁用船监控(接口弃用)

> 在监控详情页中-启动船监控, 可在首页业务总览里看到实时视频窗口

### 接口地址：/v1/pc/monitor/video/is_enabled/

### 请求方式：PUT

### 请求参数：

| 参数名 | 类型 | 是否必传 | 命名   | 备注 |
| ------ | ---- | -------- | ------ | ---- |
| shipId | INT  | 是       | 船的ID | 筛选 |

### 请求示例:

```bash
{
   "shipId": 2
}
```

### 响应

#### 200

```bash
{
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 新监控平台-启用|禁用接口

### 接口地址：/v1/pc/monitor/is_enabled/

### 请求方式：POST

### 请求参数：

| 参数名    | 类型 | 是否必传 | 命名     | 备注           |
| --------- | ---- | -------- | -------- | -------------- |
| shipId    | INT  | 是       | 船的ID   | 筛选           |
| isEnabled | INT  | 是       | 是否禁用 | 0:禁用、1:启用 |

### 请求示例:

```bash
{
    "shipId": 16,
    "isEnabled": 1
}
```

### 响应

#### 200

```bash
{
    "data": {
        "state": true, // false: 禁用、true: 启用
        "id": 16 // 船的ID
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 获取水质筛选信息

> 水质筛选时的数据展示

### 接口地址：/v1/pc/wq_filter/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名     | 备注 |
| ---------- | ---- | -------- | -------- | ---- |
| projectIds | LIST | 是       | 项目的ID |      |

### 请求示例:

```bash
{
   "projectIds": [1,2,3]
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "point": [  // 筛选定点 断面
                {
                    "func_type": 1,  // 1:定点采样   2:动态
                    "id": 8, // 检测ID
                    "name": "断面001"  // 定点名称
                }
            ],
            "dynamic": [  // 动态 信息
                {
                    "func_type": 2,  // 类型
                    "id": 11,  // 检测ID
                    "name": "河道001"  // 动态名称
                }
            ],
            "id": 4,  // 水域ID
            "name": "西湖"  // 水域名称
        },
        {
            "point": [
                {
                    "func_type": 1,
                    "id": 5,
                    "name": "断面003"
                },
                {
                    "func_type": 1,
                    "id": 4,
                    "name": "断面002"
                },
                {
                    "func_type": 1,
                    "id": 3,
                    "name": "断面001"
                }
            ],
            "dynamic": [
                {
                    "func_type": 2,
                    "id": 7,
                    "name": "河道0002"
                },
                {
                    "func_type": 2,
                    "id": 6,
                    "name": "河道0001"
                }
            ],
            "id": 2,
            "name": "西湖"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 定点水位查询

### 接口地址：/v1/pc/wq_point/

### 请求方式：POST

### 请求参数：

| 参数名         | 类型 | 是否必传 | 命名         | 备注                              |
| -------------- | ---- | -------- | ------------ | --------------------------------- |
| waterQualityId | INT  | 是       | 水质检测的ID |                                   |
| shipId         | INT  | 否       | 船的ID       | 在无人船详情-定点水质信息时需传递 |

### 请求示例:

```bash
{
    "waterQualityId": 3,
    "sTime": "2021-09-15",
    "eTime": "2021-09-20"
}
```

### 响应

#### 200

```bash
{
    "data": [ // 水质数据
        {
            "water_quality_id": 3,  // 水质检测ID
            "wq_ts": null,  // 水质上传时间戳
            "e_time": null,  // 结束时间
            "oxy_saturation": "9.97", // 溶解氧饱和度
            "c_time": "2021-09-15T00:44:36Z",  // 创建时间
            "ship_id": 2,  // 船的ID
            "k": "0.0945891783567",  // 
            "id": 10, // 水质检测ID
            "diss_oxy": "78.3954008016",  // 溶解氧
            "nh4": "1.40598196393",  // nh4
            "cod": "4.96931863727", // 化学需氧量
            "nh3": "0.016075216972",  // nh3
            "s_time": null,  // 检测开启时间
            "lat": "30.21611",  // 纬度
            "lng": "120.900683",  // 经度
            "turbidity": "23.7403306613", // 浊度
            "ph": "7.19"  // Ph
        },
        {
            "water_quality_id": 3,
            "wq_ts": null,
            "e_time": null,
            "oxy_saturation": "9.97",
            "c_time": "2021-09-16T00:42:30Z",
            "ship_id": 2,
            "k": "0.0945891783567",
            "id": 1,
            "diss_oxy": "78.3954008016",
            "nh4": "1.40598196393",
            "cod": "4.96931863727",
            "nh3": "0.016075216972",
            "s_time": null,
            "lat": "30.21611",
            "lng": "120.900683",
            "turbidity": "23.7403306613",
            "ph": "7.19"
        },
        {
            "water_quality_id": 3,
            "wq_ts": null,
            "e_time": null,
            "oxy_saturation": "9.97",
            "c_time": "2021-09-17T00:43:23Z",
            "ship_id": 2,
            "k": "0.0945891783567",
            "id": 6,
            "diss_oxy": "78.3954008016",
            "nh4": "1.40598196393",
            "cod": "4.96931863727",
            "nh3": "0.016075216972",
            "s_time": null,
            "lat": "30.21611",
            "lng": "120.900683",
            "turbidity": "23.7403306613",
            "ph": "7.19"
        },
        {
            "water_quality_id": 3,
            "wq_ts": null,
            "e_time": null,
            "oxy_saturation": "9.97",
            "c_time": "2021-09-18T00:43:59Z",
            "ship_id": 2,
            "k": "0.0945891783567",
            "id": 9,
            "diss_oxy": "78.3954008016",
            "nh4": "1.40598196393",
            "cod": "4.96931863727",
            "nh3": "0.016075216972",
            "s_time": null,
            "lat": "30.21611",
            "lng": "120.900683",
            "turbidity": "23.7403306613",
            "ph": "7.19"
        },
        {
            "water_quality_id": 3,
            "wq_ts": null,
            "e_time": null,
            "oxy_saturation": "9.97",
            "c_time": "2021-09-19T00:45:14Z",
            "ship_id": 2,
            "k": "0.0945891783567",
            "id": 13,
            "diss_oxy": "78.3954008016",
            "nh4": "1.40598196393",
            "cod": "4.96931863727",
            "nh3": "0.016075216972",
            "s_time": null,
            "lat": "30.21611",
            "lng": "120.900683",
            "turbidity": "23.7403306613",
            "ph": "7.19"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 动态水位查询-详情查询

### 接口地址：/v1/pc/dynamic/water_quality/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名         | 备注                     |
| ---------- | ---- | -------- | ------------ | ------------------------ |
| page       | INT  | 是       | 页码         |                          |
| projectIds | LIST | 是       | 项目ID       | 登录成功以后返回的项目ID |
| provinceId | INT  | 否       | 省份ID       | 筛选                     |
| cityId     | INT  | 否       | 市ID         | 筛选                     |
| areaId     | INT  | 否       | 区域ID       | 筛选                     |
| watersId   | INT  | 否       | 水域ID       | 筛选                     |
| riverId    | INT  | 否       | 水质河段ID   | 筛选                     |
| shipId     | INT  | 否       | 船的ID       | 筛选                     |
| sTime      | INT  | 否       | 开始时间筛选 | 时间戳毫秒               |
| eTime      | INT  | 否       | 结束时间筛选 | 时间戳毫秒               |
|            |      |          |              |                          |

### 请求示例:

```bash
{
   "page":1,
   "projectIds": [1,2,3]
}
```

### 响应

#### 200

```bash
{
    "data": {
        "count": 42,  // 总数
        "list": [
            {
                "c_data": {  // 城市信息
                    "id": 1,
                    "name": "杭州市"
                },
                "p_data": {  // 省份信息
                    "id": 1,
                    "name": "浙江省"
                },
                "turbidity": "[u'turb']",
                "water_quality": {
                    "id": 5,
                    "name": "断面003"
                },
                "wgs84_lat": "31.4001943",
                "c_time": 1631750400000.0,
                "chlorophy": "33",
                "k": "23",
                "oxy_saturation": "11",
                "diss_oxy": "123",
                "nh4": "12",
                "a_data": {  // 区域信息
                    "id": 1,
                    "name": "萧山区"
                },
                "cod": "123.12",
                "nh3": "3",
                "s_time": 1631811535,
                "ph": "7.1",
                "_id": "614377cfa541dda4006c0b61",
                "wgs84_lng": "120.866966",
                "ship": {
                    "number": "0017",
                    "id": 2,
                    "name": "西湖前进号"
                },
                "waters": {
                    "id": 2,
                    "name": "西湖"
                }
            },
            {
                "c_data": {
                    "id": 1,
                    "name": "杭州市"
                },
                "p_data": {
                    "id": 1,
                    "name": "浙江省"
                },
                "turbidity": "[u'turb']",
                "water_quality": {
                    "id": 5,
                    "name": "断面003"
                },
                "wgs84_lat": "31.4001945",
                "c_time": 1631750400000.0,
                "chlorophy": "33",
                "k": "29",
                "oxy_saturation": "11",
                "diss_oxy": "123",
                "nh4": "12",
                "a_data": {
                    "id": 1,
                    "name": "萧山区"
                },
                "cod": "123.12",
                "nh3": "1",
                "s_time": 1631811509,
                "ph": "7.1",
                "_id": "614377b5a541dda3f153232c",
                "wgs84_lng": "120.8669662",
                "ship": {
                    "number": "0017",
                    "id": 2,
                    "name": "西湖前进号"
                },
                "waters": {
                    "id": 2,
                    "name": "西湖"
                }
            }
        ]
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 查询码头

### 接口地址：v1/pc/waters/wharf/list/

### 请求方式：POST

### 请求参数：

| 参数名    | 类型 | 是否必传 | 命名   | 备注 |
| --------- | ---- | -------- | ------ | ---- |
| watersIds | LIST | 是       | 水域ID |      |

#### 请求示例:

```bash
{"watersId": [22,33]}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "watersList": [
                {
                    "waters__number": "HTH-001",
                    "name": "码头名称.",  // 码头名称
                    "cTime": "2021-11-06T03:21:00.380535Z", // 码头创建时间
                    "number": "MT-0001",  // 码头编号
                    "statue": 1,  // 码头状态: 1:在线、2:离线
                    "waters__name": "后塘河",
                    "lat": "39.316416",  // 码头纬度
                    "lng": "117.748133", // 码头经度
                    "id": 1, // 码头ID
                    "memo": null,  // 备注信息
                    "address": null,  // 地址信息
                    "watersId": 22
                },
                {
                    "waters__number": "HTH-001",
                    "name": "码头名称",
                    "cTime": "2021-11-06T12:16:18Z",
                    "number": "MT-0003",
                    "statue": 1,
                    "waters__name": "后塘河",
                    "lat": "40.316416",
                    "lng": "116.748133",
                    "memo": null,
                    "address": null,
                    "id": 3,
                    "watersId": 22
                }
            ],
            "watersId": 22,  // 水域ID
            "watersName": "后塘河"  // 水域名称
        },
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 冲锋舟预警接口

> 当前接口, u3d 每个3分钟轮训请求一次，然后本地时间跟返回的ts做判断是否需要展示预警信息。

### 接口地址：v1/pc/cfz/warning/stop/

### 请求方式：POST

### 请求参数：

| 参数名   | 类型 | 是否必传 | 命名           | 备注 |
| -------- | ---- | -------- | -------------- | ---- |
| shipNums | LIST | 是       | 冲锋舟预警信息 |      |

#### 请求示例:

```bash
{"shipNums": ["CFZ-0002", "CFZ-0006"]}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "shipNumber": "CFZ-0002",  // 船的编号
            "watersId": 15,  // 水域ID
            "mobile": "15665804670",  // 管理员手机号
            "ts": "1636619801",  // 预计时间
            "shipId": 36,  // 船的ID
            "id": 22,  // 预警ID
            "name": "叶文明"  // 管理员姓名
        },
        {
            "shipNumber": "CFZ-0006",
            "watersId": 15,
            "mobile": null,
            "ts": "1636790324",
            "shipId": 40,
            "id": 15,
            "name": null
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 综合业务-保洁业务-详情列表

### 接口地址：v1/pc/clean/project/list/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型   | 是否必传 | 命名                 | 备注 |
| ---------- | ------ | -------- | -------------------- | ---- |
| projectIds | LIST   | 是       | 登录成功获取的项目ID |      |
| provinceId | INT    | 否       | 省份ID               | 筛选 |
| cityId     | INT    | 否       | 市ID                 | 筛选 |
| areaId     | INT    | 否       | 区域ID               | 筛选 |
| townId     | INT    | 否       | 镇ID                 | 筛选 |
| villageId  | INT    | 否       | 乡ID                 | 筛选 |
| watersId   | INT    | 否       | 水域ID               | 筛选 |
| sTime      | STRING | 否       | 开始时间             | 筛选 |
| eTime      | STRING | 否       | 结束时间             | 筛选 |

#### 请求示例:

* 

### 响应

#### 200

```bash
{
    "data": {
        "count": 7,
        "list": [
            {
                "id": 25,
                "amount": "66.55",
                "num": "88888888888",
                "name": "项目名册888888",
                "businessType": 1,
                "projectType": 1,
                "areas": "123",
                "distance": "1233",
                "evaluation": 1,
                "provinceInfo": {
                    "lat": "30.251057",
                    "lng": "120.193968",
                    "id": 1,
                    "name": "浙江省"
                },
                "cityInfo": {
                    "id": 1,
                    "name": "杭州市"
                },
                "areaInfo": {
                    "id": 1,
                    "name": "萧山区"
                },
                "townInfo": {},
                "villageInfo": {},
                "areaType": 2,
                "watersInfo": {
                    "id": 2,
                    "name": "西湖"
                },
                "sTime": "1627747200.000000",
                "eTime": "1628179200.000000",
                "saleAmount": [  // 销售总金额
                    {
                        "amount": "2000",
                        "id": 2,
                        "cTime": "2021-10-17T16:00:00Z"
                    },
                    {
                        "amount": "2000",
                        "id": 1,
                        "cTime": "2021-10-15T16:00:00Z"
                    }
                ],
                "projectShip": [ // 项目下有多少艘船
                    {
                        "shipId": 5,
                        "shipType": 2,
                        "id": 2,
                        "shipNumber": "0099",
                        "shipName": "冲锋舟-001"
                    },
                    {
                        "shipId": 3,
                        "shipType": 1,
                        "id": 1,
                        "shipNumber": "0018",
                        "shipName": "相信号"
                    }
                ],
                "salesType": 2,
                "oUser": "联系人",
                "oCompany": "业主单位",
                "oMobile": "联系方式",
                "sUser": "市场负责人",
                "sMobile": "联系电话",
                "sCompany": "市场部门"
            }
        ],
        "links": {
            "previous": null,
            "next": null
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 综合业务-运维人员-手环实时信息

### 接口地址：v1/pc/bracelet_track/realtime/

### 请求方式：POST

### 请求参数：

| 参数名    | 类型 | 是否必传 | 命名                 | 备注 |
| --------- | ---- | -------- | -------------------- | ---- |
| watersIds | LIST | 是       | 登录成功获取水域信息 |      |

#### 请求示例:

```bash
{"watersIds": ["60", "83"]}
```

### 响应

#### 200

```bash
{
    "data": [
      {
              "category": 2, // 类型 1:手环  2:定位盒
              "sql_id": 6,  // mysqlId 主键
              "waters_id": "15",  //水域ID
              "detail": {  // 详情信息最后一次位置信息
                  "c_time": 1642230988000.0,  // 轨迹信息
                  "wgs84_lng": "120.6915644", // 经度
                  "wgs84_lat": "27.78536",  // 纬度
                  "s_time": 1642230988
              },
              "user": "陈积银",  // 运维人员
              "s_time": 1642176000  // 运行日期
          },
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 综合业务-运维人员-手环轨迹信息

### 接口地址：v1/pc/bracelet_track/list/

### 请求方式：POST

### 请求参数：

| 参数名    | 类型 | 是否必传 | 命名 | 备注 |
| --------- | ---- | -------- | ---- | ---- |
| trackList | LIST | 是       |      |      |

#### 请求示例:

```bash
{
    "trackList": [
        {
            "waterId": 60, // 水域ID
            "ts": 1641657600,  // 秒时间戳 当天凌晨
            "sqlId": 83 // 返回的sqlId
        },
        {
            "waterId": 83,
            "ts": 1641571200,
            "sqlId": 83
        }
    ]
}
```

### 响应

#### 200

```bash
{
    "data": [
        [
            {
                "sql_id": 83,  // sqlID
                "c_time": 1641657600000.0,  //创建时间
                "water_name": "金清镇河道",  // 水域名称
                "detail": [  // 详情坐标
                    {
                        "c_time": 1641693472000.0,
                        "wgs84_lng": "116.348598",
                        "wgs84_lat": "40.086813",
                        "s_time": 1641693472
                    },
                    
                ],
                "user": "吕品品",
                "water_id": "83",
                "s_time": 1641571200, // 以时间戳为准
                "_id": "61dae9afdffa7109f638290a",
                "_cls": "wisdom_waters_service.models.BraceletDevice"
            }
        ]
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 区分上、下午-运维人员-手环轨迹信息

### 接口地址：v1/pc/bracelet_track_time/list/

### 请求方式：POST

### 请求参数：

| 参数名  | 类型 | 是否必传 | 命名                     | 备注 |
| ------- | ---- | -------- | ------------------------ | ---- |
| waterId | INT  | 是       | 水域ID                   |      |
| sqlId   | INT  | 是       | 用户主键ID               |      |
| ts      | INT  | 是       | 当天时间戳               |      |
| runTime | LIST | 是       | 上午、下午开始结束时间戳 |      |

#### 请求示例:

```bash
{
    "waterId": 15,
    "sqlId": 7,
    "ts": 1642262400,
    "runTime": [
        {
            "st": 1642287604,
            "et": 1642287814
        },
              
            "st": 1642287981,
            "et": 1642289067
        }
    ]
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "water_name": "中塘河",
            "number": "869523058803785",
            "st": 1642287604,
            "data_list": [
                {
                    "c_time": 1642287604000.0,
                    "wgs84_lng": "120.6912089",
                    "wgs84_lat": "27.7773333",
                    "s_time": 1642287604
                },
            ],
            "user": "叶其平",
            "et": 1642287814
        },
        {
            "water_name": "中塘河",
            "number": "869523058803785",
            "st": 1642287981,
            "data_list": [
                {
                    "c_time": 1642287981000.0,
                    "wgs84_lng": "120.6872889",
                    "wgs84_lat": "27.7799",
                    "s_time": 1642287981
                },
                {
                    "c_time": 1642288002000.0,
                    "wgs84_lng": "120.6870133",
                    "wgs84_lat": "27.7800822",
                    "s_time": 1642288002
                },
            ],
            "user": "叶其平",
            "et": 1642289067
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 获取运维人员-时间段信息

### 接口地址：v1/pc/get_operator/time_slot/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名           | 备注 |
| ---------- | ---- | -------- | -------------- | ---- |
| operatorId | INT  | 是       | 运维人员ID     |      |
| ts         | INT  | 是       | 当天凌晨时间戳 |      |

#### 请求示例:

```bash
{
    "operatorId": 1,
    "ts": 1646668800
}
```

### 响应

#### 200

```bash
{
    "data": {
        "pmSt": 1646715600, // 下午的开始时间
        "amSt": 1646694000,  // 上午的开始时间
        "pmEt": 1646733600,  // 下午的结束时间
        "amEt": 1646708400  // 上午的结束时间
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 获取冲锋舟-上、下午时间段信息

### 接口地址：v1/get/cfz_ts/

### 请求方式：POST

### 请求参数：

| 参数名 | 类型 | 是否必传 | 命名             | 备注 |
| ------ | ---- | -------- | ---------------- | ---- |
| shipId | INT  | 是       | 船的ID           |      |
| ts     | INT  | 是       | 当天时间戳(凌晨) | 秒级 |

#### 请求示例:

```bash
{
    "shipId": 41,
    "ts": 1647360000
}
```

### 响应

#### 200

```bash
{
    "data": {
        "pmSt": 1647406800, // 下午开始时间
        "allEt": 1647421200,  // 全天结束时间
        "amSt": 1647385200,  // 上午开始时间
        "pmEt": 1647421200,  // 下午结束时间
        "allSt": 1647385200,  // 全天开始时间
        "shipNumber": "CFZ-0007",  // 船的编码
        "shipName": "冲锋舟七号",  // 船的名称
        "amEt": 1647399600  // 上午结束时间
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 获取冲锋舟属性弹窗信息

### 接口地址：v1/pc/get_cfz/attr_data/

### 请求方式：POST

### 请求参数：

| 参数名 | 类型 | 是否必传 | 命名   | 备注 |
| ------ | ---- | -------- | ------ | ---- |
| shipId | INT  | 是       | 船的ID |      |

#### 请求示例:

```bash
{
    "shipId": 35
}
```

### 响应

#### 200

```bash
{
    "data": {
        "projectId": 56,  // 项目ID
        "ship__province__name": "浙江省",  // 省份名称
        "project__sMobile": "13456905984",  // 负责人联系方式
        "ship__status": 1,  // GPS 船的状态  0:在线、1:离线、 3:故障、4:预警
        "project__sUser": "安鹏", // 负责人 
        "userList": [ // 同乘人员  ；里面是里面  同乘人员可能有多位
            {
                "mobile": "13069634825",
                "id": 83,
                "name": "吕品品"
            },
            {
                "mobile": "13069634825",
                "id": 83,
                "name": "吕品品"
            }
        ],
        "project__businessType": 1,  // 业务类型 1：水面保洁、2:切割/打捞 、3:水质检测、4:水下探测、 5:试剂投放、6:智能巡河
        "lat": "27.9977276667",  /// 纬度
        "ship__provinceId": 1,  // 省份ID
        "ship__cityId": 8,  // 城市ID
        "lng": "120.660574",  // 经度
        "ship__number": "CFZ-0001",  // 船的编号
        "ship__areaId": 25, // 区域ID
        "ship__city__name": "温州市",  // 城市名称
        "ship__name": "冲锋舟一号",  // 船的名称
        "ship__area__name": "鹿城区",  // 船的区域名称
        "id": 62  // 主键ID
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 获取运维人员属性弹窗信息

### 接口地址：v1/pc/get_operator/attr_data/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名       | 备注 |
| ---------- | ---- | -------- | ---------- | ---- |
| operatorId | INT  | 是       | 运维人员ID |      |

#### 请求示例:

```bash
{
    "operatorId": 3
}
```

### 响应

#### 200

```bash
{
    "data": {
        "duty": "",  // 职责
        "waters_id": 15, // 水域ID
        "mobile": "13780128234",  // 联系电话
        "gender": 1,  // 性别1:男、2:女
        "age": "",  // 年龄
        "bracelet_number": "869523053413739",  // 手环编号
        "waters__name": "中塘河",  // 水域名称
        "lat": "27.7736133",  // 纬度
        "lng": "120.6804089",  // 经度
        "type": 2,  // 1:手环、2:定位盒
        "id": 3,  // 运维人员ID
        "name": "彭水弟"  // 运维人员姓名
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 获取巡河任务状态(轮训请求)

### 接口地址：v1/get/patrol_task/state/

### 请求方式：POST

### 请求参数：

| 参数名 | 类型 | 是否必传 | 命名       | 备注 |
| ------ | ---- | -------- | ---------- | ---- |
| taskId | INT  | 是       | 巡河任务ID |      |

#### 请求示例:

```bash
{
    "taskId": 109
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "status": 3, // 任务状态: 1:待处理、2:处理中、3:已处理
            "is_started": true,  // 是否开始巡河、 true:开始巡河  false:未开始 （当前字段提供给移动端做判断）
            "ship_id": 65,  // 船的ID
            "ship__number": "0025", // 船的编号
            "patrol_type": 1,  // 巡河类型: 1:无人船、2:无人机、3:人工
            "ship__name": "QDF-0025",  // 船的名称
            "id": 109 // 任务ID
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 获取船舶运行时间(大屏/app/驾驶舱通用接口)

> 点击大屏船舶的时候, 弹窗中有个运行时间的字段，调用此接口。

### 接口地址：v1/pc/get_ship_run_time/

### 请求方式：POST

### 请求参数：

| 参数名    | 类型   | 是否必传 | 命名                  | 备注 |
| --------- | ------ | -------- | --------------------- | ---- |
| todayTime | INT    | 是       | 当天的时间戳 (秒级别) |      |
| shipNum   | STRING | 是       | 船舶编号              |      |

#### 请求示例:

```bash
{
    "todayTime": 1666454400,
    "shipNum": "0018"
}
```

### 响应

#### 200

```bash
{
    "data": {
        "todayTs": 1666454400, // 当天日期的时间戳
        "runTime": 30885  // 船舶运行的时间，当前是秒，客户端拿到需要转换分钟，那么就 /60，客户端自行处理
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

