# 智慧水域-数据大屏-地区级联-AI识别

## 地区三级级联：

> 大屏筛选都是三级地区级联

### 接口地址：/v1/pc/three/cascade/

### 请求方式：POST

### 请求参数：

* 

### 请求示例:

* 

### 响应

#### 200

```bash
{
    "data": [
        {
            "city": [  // 市信息
                {
                    "area": [  // 区信息
                        {
                            "city_id": 1,
                            "code": null,
                            "id": 1,
                            "name": "萧山区"
                        },
                        {
                            "city_id": 1,
                            "code": null,
                            "id": 3,
                            "name": "滨江区"
                        }
                    ],
                    "province_id": 1,
                    "code": null,
                    "id": 1,
                    "name": "杭州市"
                }
            ],
            "code": null,
            "id": 1,  // 省份ID
            "name": "浙江省"  // 省名称
        },
        {
            "city": [
                {
                    "area": [
                        {
                            "city_id": 2,
                            "code": null,
                            "id": 2,
                            "name": "玄武区"
                        }
                    ],
                    "province_id": 2,
                    "code": null,
                    "id": 2,
                    "name": "苏州市"
                }
            ],
            "code": null,
            "id": 2,
            "name": "江苏省"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## AI智能识别列表：

### 接口地址：/v1/pc/ai/list/

### 请求方式：POST

### 请求参数：

* 

### 请求示例:

* 

### 响应

#### 200

```bash
{
    "data": [
        {
            "s_list": [
                {
                    "text": "河长办、环保局、城管局",
                    "ai_p_id": 1,
                    "p_list": [
                        {
                            "ai_s_id": 1,
                            "id": 1,
                            "name": "塑料袋"
                        },
                        {
                            "ai_s_id": 1,
                            "id": 2,
                            "name": "塑料瓶"
                        },
                        {
                            "ai_s_id": 1,
                            "id": 3,
                            "name": "玻璃瓶"
                        },
                        {
                            "ai_s_id": 1,
                            "id": 4,
                            "name": "轻金属"
                        },
                        {
                            "ai_s_id": 1,
                            "id": 5,
                            "name": "纸箱"
                        }
                    ],
                    "id": 1,
                    "name": "生活垃圾"
                },
                {
                    "text": "河长办、环保局、城管局",
                    "ai_p_id": 1,
                    "p_list": [
                        {
                            "ai_s_id": 2,
                            "id": 6,
                            "name": "水葫芦"
                        },
                        {
                            "ai_s_id": 2,
                            "id": 7,
                            "name": "浮萍"
                        },
                        {
                            "ai_s_id": 2,
                            "id": 8,
                            "name": "蓝藻"
                        },
                        {
                            "ai_s_id": 2,
                            "id": 9,
                            "name": "青苔"
                        },
                        {
                            "ai_s_id": 2,
                            "id": 10,
                            "name": "落叶"
                        },
                        {
                            "ai_s_id": 2,
                            "id": 11,
                            "name": "树枝"
                        },
                        {
                            "ai_s_id": 2,
                            "id": 12,
                            "name": "苦草"
                        },
                        {
                            "ai_s_id": 2,
                            "id": 13,
                            "name": "金鱼藻"
                        },
                        {
                            "ai_s_id": 2,
                            "id": 14,
                            "name": "狐尾藻"
                        },
                        {
                            "ai_s_id": 2,
                            "id": 15,
                            "name": "黑藻"
                        },
                        {
                            "ai_s_id": 2,
                            "id": 16,
                            "name": "小茨藻"
                        },
                        {
                            "ai_s_id": 2,
                            "id": 17,
                            "name": "浮泥"
                        }
                    ],
                    "id": 2,
                    "name": "水草海藻"
                },
                {
                    "text": "河长办、环保局、城管局",
                    "ai_p_id": 1,
                    "p_list": [
                        {
                            "ai_s_id": 3,
                            "id": 18,
                            "name": "油性颜料"
                        },
                        {
                            "ai_s_id": 3,
                            "id": 19,
                            "name": "动植物油"
                        },
                        {
                            "ai_s_id": 3,
                            "id": 20,
                            "name": "石油"
                        }
                    ],
                    "id": 3,
                    "name": "水面油污"
                },
                {
                    "text": "河长办、交管局、城管局",
                    "ai_p_id": 1,
                    "p_list": [
                        {
                            "ai_s_id": 4,
                            "id": 21,
                            "name": "堤防"
                        },
                        {
                            "ai_s_id": 4,
                            "id": 22,
                            "name": "水坝"
                        },
                        {
                            "ai_s_id": 4,
                            "id": 23,
                            "name": "水闸"
                        },
                        {
                            "ai_s_id": 4,
                            "id": 24,
                            "name": "桥梁"
                        },
                        {
                            "ai_s_id": 4,
                            "id": 25,
                            "name": "码头"
                        },
                        {
                            "ai_s_id": 4,
                            "id": 26,
                            "name": "道路"
                        }
                    ],
                    "id": 4,
                    "name": "堤坝安全"
                },
                {
                    "text": "河长办、环保局、城管局",
                    "ai_p_id": 1,
                    "p_list": [
                        {
                            "ai_s_id": 5,
                            "id": 27,
                            "name": "排污口"
                        },
                        {
                            "ai_s_id": 5,
                            "id": 28,
                            "name": "管道"
                        },
                        {
                            "ai_s_id": 5,
                            "id": 29,
                            "name": "缆线"
                        }
                    ],
                    "id": 5,
                    "name": "违规设施"
                },
                {
                    "text": "河长办、环保局、城管局",
                    "ai_p_id": 1,
                    "p_list": [
                        {
                            "ai_s_id": 6,
                            "id": 30,
                            "name": "生活垃圾"
                        },
                        {
                            "ai_s_id": 6,
                            "id": 31,
                            "name": "弃置矿渣"
                        },
                        {
                            "ai_s_id": 6,
                            "id": 32,
                            "name": "超标排放"
                        }
                    ],
                    "id": 6,
                    "name": "岸边垃圾"
                },
                {
                    "text": "河长办、水务局",
                    "ai_p_id": 1,
                    "p_list": [
                        {
                            "ai_s_id": 7,
                            "id": 33,
                            "name": "农作物"
                        },
                        {
                            "ai_s_id": 7,
                            "id": 34,
                            "name": "芦苇"
                        },
                        {
                            "ai_s_id": 7,
                            "id": 35,
                            "name": "杞柳"
                        },
                        {
                            "ai_s_id": 7,
                            "id": 36,
                            "name": "荻柴"
                        },
                        {
                            "ai_s_id": 7,
                            "id": 37,
                            "name": "树木"
                        },
                        {
                            "ai_s_id": 7,
                            "id": 38,
                            "name": "鱼类"
                        },
                        {
                            "ai_s_id": 7,
                            "id": 39,
                            "name": "飞禽"
                        },
                        {
                            "ai_s_id": 7,
                            "id": 40,
                            "name": "家畜"
                        }
                    ],
                    "id": 7,
                    "name": "阻水生物"
                },
                {
                    "text": "消防局、城管局",
                    "ai_p_id": 1,
                    "p_list": [
                        {
                            "ai_s_id": 8,
                            "id": 41,
                            "name": "夜间火警"
                        }
                    ],
                    "id": 8,
                    "name": "夜间识别"
                }
            ],
            "id": 1,
            "name": "水上识别"
        },
        {
            "s_list": [
                {
                    "text": "河长办、城管局、公安局",
                    "ai_p_id": 2,
                    "p_list": [
                        {
                            "ai_s_id": 9,
                            "id": 42,
                            "name": "夜间活体"
                        },
                        {
                            "ai_s_id": 9,
                            "id": 43,
                            "name": "鱼篓"
                        },
                        {
                            "ai_s_id": 9,
                            "id": 44,
                            "name": "渔网"
                        },
                        {
                            "ai_s_id": 9,
                            "id": 45,
                            "name": "毒鱼"
                        },
                        {
                            "ai_s_id": 9,
                            "id": 46,
                            "name": "电鱼"
                        },
                        {
                            "ai_s_id": 9,
                            "id": 47,
                            "name": "钓鱼"
                        },
                        {
                            "ai_s_id": 9,
                            "id": 48,
                            "name": "炸鱼"
                        }
                    ],
                    "id": 9,
                    "name": "非法捕鱼"
                },
                {
                    "text": "河长办、环保局",
                    "ai_p_id": 2,
                    "p_list": [
                        {
                            "ai_s_id": 10,
                            "id": 49,
                            "name": "鸭"
                        },
                        {
                            "ai_s_id": 10,
                            "id": 50,
                            "name": "鹅"
                        },
                        {
                            "ai_s_id": 10,
                            "id": 51,
                            "name": "雁"
                        }
                    ],
                    "id": 10,
                    "name": "非法放牧"
                },
                {
                    "text": "河长办、环保局",
                    "ai_p_id": 2,
                    "p_list": [
                        {
                            "ai_s_id": 11,
                            "id": 52,
                            "name": "鱼"
                        },
                        {
                            "ai_s_id": 11,
                            "id": 53,
                            "name": "蛇"
                        },
                        {
                            "ai_s_id": 11,
                            "id": 54,
                            "name": "龟"
                        },
                        {
                            "ai_s_id": 11,
                            "id": 55,
                            "name": "鳄鱼"
                        }
                    ],
                    "id": 11,
                    "name": "违规活动"
                },
                {
                    "text": "河长办、水务局、城管局",
                    "ai_p_id": 2,
                    "p_list": [
                        {
                            "ai_s_id": 12,
                            "id": 56,
                            "name": "晒粮"
                        },
                        {
                            "ai_s_id": 12,
                            "id": 57,
                            "name": "存放物料"
                        },
                        {
                            "ai_s_id": 12,
                            "id": 58,
                            "name": "考古发掘"
                        },
                        {
                            "ai_s_id": 12,
                            "id": 59,
                            "name": "集市贸易"
                        }
                    ],
                    "id": 12,
                    "name": "非法开采"
                },
                {
                    "text": "河长办、环保局、城管局",
                    "ai_p_id": 2,
                    "p_list": [
                        {
                            "ai_s_id": 13,
                            "id": 60,
                            "name": "采砂"
                        },
                        {
                            "ai_s_id": 13,
                            "id": 61,
                            "name": "取土"
                        },
                        {
                            "ai_s_id": 13,
                            "id": 62,
                            "name": "淘金"
                        },
                        {
                            "ai_s_id": 13,
                            "id": 63,
                            "name": "伐木"
                        }
                    ],
                    "id": 13,
                    "name": "人为倾倒"
                },
                {
                    "text": "河长办、水务局、交通局",
                    "ai_p_id": 2,
                    "p_list": [
                        {
                            "ai_s_id": 14,
                            "id": 64,
                            "name": "石渣"
                        },
                        {
                            "ai_s_id": 14,
                            "id": 65,
                            "name": "煤灰"
                        },
                        {
                            "ai_s_id": 14,
                            "id": 66,
                            "name": "泥土"
                        },
                        {
                            "ai_s_id": 14,
                            "id": 67,
                            "name": "生活垃圾"
                        },
                        {
                            "ai_s_id": 14,
                            "id": 68,
                            "name": "污染物"
                        }
                    ],
                    "id": 14,
                    "name": "河道侵占"
                },
                {
                    "text": "交通局",
                    "ai_p_id": 2,
                    "p_list": [
                        {
                            "ai_s_id": 15,
                            "id": 69,
                            "name": "建房修路"
                        },
                        {
                            "ai_s_id": 15,
                            "id": 70,
                            "name": "围堤修渠"
                        },
                        {
                            "ai_s_id": 15,
                            "id": 71,
                            "name": "打井挖窖"
                        },
                        {
                            "ai_s_id": 15,
                            "id": 72,
                            "name": "挖筑鱼塘"
                        }
                    ],
                    "id": 15,
                    "name": "非法船只"
                },
                {
                    "text": "交通局",
                    "ai_p_id": 2,
                    "p_list": [],
                    "id": 16,
                    "name": "非法车辆"
                },
                {
                    "text": "河长办、环保局",
                    "ai_p_id": 2,
                    "p_list": [
                        {
                            "ai_s_id": 17,
                            "id": 73,
                            "name": "洗衣"
                        },
                        {
                            "ai_s_id": 17,
                            "id": 74,
                            "name": "洗菜"
                        }
                    ],
                    "id": 17,
                    "name": "非法洗涤"
                },
                {
                    "text": "河长办、水务局",
                    "ai_p_id": 2,
                    "p_list": [
                        {
                            "ai_s_id": 18,
                            "id": 75,
                            "name": "游泳"
                        },
                        {
                            "ai_s_id": 18,
                            "id": 76,
                            "name": "洗澡"
                        }
                    ],
                    "id": 18,
                    "name": "游泳洗澡"
                }
            ],
            "id": 2,
            "name": "非法行为"
        },
        {
            "s_list": [
                {
                    "text": "公安局",
                    "ai_p_id": 3,
                    "p_list": [
                        {
                            "ai_s_id": 19,
                            "id": 77,
                            "name": "单人"
                        },
                        {
                            "ai_s_id": 19,
                            "id": 78,
                            "name": "群体"
                        }
                    ],
                    "id": 19,
                    "name": "人员落水"
                },
                {
                    "text": "公安局",
                    "ai_p_id": 3,
                    "p_list": [
                        {
                            "ai_s_id": 20,
                            "id": 79,
                            "name": "单人"
                        },
                        {
                            "ai_s_id": 20,
                            "id": 80,
                            "name": "群体"
                        }
                    ],
                    "id": 20,
                    "name": "轻生自杀"
                },
                {
                    "text": "公安局",
                    "ai_p_id": 3,
                    "p_list": [
                        {
                            "ai_s_id": 21,
                            "id": 81,
                            "name": "持枪"
                        },
                        {
                            "ai_s_id": 21,
                            "id": 82,
                            "name": "持刀"
                        },
                        {
                            "ai_s_id": 21,
                            "id": 83,
                            "name": "持棍"
                        }
                    ],
                    "id": 21,
                    "name": "岸上持械"
                },
                {
                    "text": "造船厂视频监控",
                    "ai_p_id": 3,
                    "p_list": [
                        {
                            "ai_s_id": 22,
                            "id": 84,
                            "name": "非生产人员闯入"
                        },
                        {
                            "ai_s_id": 22,
                            "id": 85,
                            "name": "工作区吸烟"
                        },
                        {
                            "ai_s_id": 22,
                            "id": 86,
                            "name": "工作时间睡觉"
                        },
                        {
                            "ai_s_id": 22,
                            "id": 87,
                            "name": "长时间打电话"
                        },
                        {
                            "ai_s_id": 22,
                            "id": 88,
                            "name": "岗位无人"
                        },
                        {
                            "ai_s_id": 22,
                            "id": 89,
                            "name": "聚众滋事"
                        },
                        {
                            "ai_s_id": 22,
                            "id": 90,
                            "name": "破坏生产设备"
                        },
                        {
                            "ai_s_id": 22,
                            "id": 91,
                            "name": "消极怠工"
                        }
                    ],
                    "id": 22,
                    "name": "安全生产"
                }
            ],
            "id": 3,
            "name": "异常行为"
        },
        {
            "s_list": [
                {
                    "text": "河长办、城管局",
                    "ai_p_id": 4,
                    "p_list": [
                        {
                            "ai_s_id": 23,
                            "id": 92,
                            "name": "坐标"
                        },
                        {
                            "ai_s_id": 23,
                            "id": 93,
                            "name": "水深"
                        }
                    ],
                    "id": 23,
                    "name": "暗管探测"
                },
                {
                    "text": "河长办、城管局",
                    "ai_p_id": 4,
                    "p_list": [
                        {
                            "ai_s_id": 24,
                            "id": 94,
                            "name": "鱼篓"
                        },
                        {
                            "ai_s_id": 24,
                            "id": 95,
                            "name": "虾笼"
                        },
                        {
                            "ai_s_id": 24,
                            "id": 96,
                            "name": "工业垃圾"
                        },
                        {
                            "ai_s_id": 24,
                            "id": 97,
                            "name": "生活垃圾"
                        }
                    ],
                    "id": 24,
                    "name": "水下异物"
                }
            ],
            "id": 4,
            "name": "水下探测"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## AI智能识别二级事件列表：

### 接口地址：/v1/pc/ai/second/

### 请求方式：POST

### 请求参数：

* 

### 请求示例:

* 

### 响应

#### 200

```bash
{
    "data": [
        {
            "text": "河长办、环保局、城管局", // 监督单位
            "ai_p_id": 1,  // 一级ID
            "id": 1,  // 二级ID
            "name": "生活垃圾"  // 二级名称
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 运行轨迹(无人船)：

### 接口地址：/v1/pc/running/track/

### 请求方式：POST

### 请求参数：

| 参数名    | 类型  | 是否必传 | 命名       | 备注                     |
| --------- | ----- | -------- | ---------- | ------------------------ |
| trackList | LIST  | 是       | 轨迹的列表 |                          |
| ts        | FLOAT | 是       | 毫秒时间戳 | 传递当天凌晨的毫秒时间戳 |

### 请求示例:

```bash
{
    "trackList": [
        {
            "ship_id": 2,
            "waters_id": 2
        },
        {
            "ship_id": 3,
            "waters_id": 4
        }
    ],
    "ts": 1633622400000 // 查看历史, 传递历史当天凌晨的毫秒时间戳， 查看今日，传递今日凌晨毫秒时间戳
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "ship_id": 2, // 船的ID
            "track_info": [
                {
                    "c_data": {
                        "id": 1,
                        "name": "杭州市"
                    },
                    "p_data": {
                        "id": 1,
                        "name": "浙江省"
                    },
                    "turbidity": "",
                    "water_quality": {
                        "id": 5,
                        "name": "断面003"
                    },
                    "wgs84_lat": "31.400111",
                    "c_time": 1632027079985.0,
                    "chlorophy": "",
                    "k": "",
                    "_cls": "wisdom_waters_service.models.DynamicWaterQuality",
                    "oxy_saturation": "",
                    "diss_oxy": "",
                    "nh4": "",
                    "a_data": {
                        "id": 1,
                        "name": "萧山区"
                    },
                    "cod": "",
                    "nh3": "",
                    "s_time": 1632110130,
                    "ph": "",
                    "_id": "6146c1c8a541ddafc2d014f6",
                    "wgs84_lng": "120.8671099",
                    "ship": {
                        "number": "0004",
                        "id": 2,
                        "name": "西湖前进号"
                    },
                    "waters": {
                        "id": 2,
                        "name": "西湖"
                    }
                },
                {
                    "c_data": {
                        "id": 1,
                        "name": "杭州市"
                    },
                    "p_data": {
                        "id": 1,
                        "name": "浙江省"
                    },
                    "turbidity": "[u'turb']",
                    "water_quality": {
                        "id": 5,
                        "name": "断面003"
                    },
                    "wgs84_lat": "31.4001943",
                    "c_time": 1631750400000.0,
                    "chlorophy": "33",
                    "k": "23",
                    "_cls": "wisdom_waters_service.models.DynamicWaterQuality",
                    "oxy_saturation": "11",
                    "diss_oxy": "123",
                    "nh4": "12",
                    "a_data": {
                        "id": 1,
                        "name": "萧山区"
                    },
                    "cod": "123.12",
                    "nh3": "3",
                    "s_time": 1631893149,
                    "ph": "7.1",
                    "_id": "6144b69da541dda8ff12637e",
                    "wgs84_lng": "120.866966",
                    "ship": {
                        "number": "0017",
                        "id": 2,
                        "name": "西湖前进号"
                    },
                    "waters": {
                        "id": 2,
                        "name": "西湖"
                    }
                },
                {
                    "c_data": {
                        "id": 1,
                        "name": "杭州市"
                    },
                    "p_data": {
                        "id": 1,
                        "name": "浙江省"
                    },
                    "turbidity": "[u'turb']",
                    "water_quality": {
                        "id": 5,
                        "name": "断面003"
                    },
                    "wgs84_lat": "31.4001943",
                    "c_time": 1631750400000.0,
                    "chlorophy": "33",
                    "k": "23",
                    "_cls": "wisdom_waters_service.models.DynamicWaterQuality",
                    "oxy_saturation": "11",
                    "diss_oxy": "123",
                    "nh4": "12",
                    "a_data": {
                        "id": 1,
                        "name": "萧山区"
                    },
                    "cod": "123.12",
                    "nh3": "3",
                    "s_time": 1631893148,
                    "ph": "7.1",
                    "_id": "6144b69ca541dda8ff12637d",
                    "wgs84_lng": "120.866966",
                    "ship": {
                        "number": "0017",
                        "id": 2,
                        "name": "西湖前进号"
                    },
                    "waters": {
                        "id": 2,
                        "name": "西湖"
                    }
                },
            ]
        },
        {
            "ship_id": 3,
            "track_info": [
                {
                    "c_data": {
                        "id": 2,
                        "name": "杭州市"
                    },
                    "p_data": {
                        "id": 2,
                        "name": "浙江省"
                    },
                    "turbidity": "[u'turb']",
                    "water_quality": {
                        "id": 1,
                        "name": "断面003"
                    },
                    "wgs84_lat": "31.4001943",
                    "c_time": 1634342400000.0,
                    "chlorophy": "33",
                    "k": "23",
                    "_cls": "wisdom_waters_service.models.DynamicWaterQuality",
                    "oxy_saturation": "11",
                    "diss_oxy": "123",
                    "nh4": "12",
                    "a_data": {
                        "id": 2,
                        "name": "萧山区"
                    },
                    "cod": "123.12",
                    "nh3": "3",
                    "s_time": 1631893112,
                    "ph": "7.1",
                    "_id": "6144b678a541dda8ff12636e",
                    "wgs84_lng": "120.866966",
                    "ship": {
                        "number": "0017",
                        "id": 3,
                        "name": "西湖前进号"
                    },
                    "waters": {
                        "id": 4,
                        "name": "西湖"
                    }
                }
            ]
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 区分上、下午-运行轨迹(无人船)：

### 接口地址：/v1/pc/running_time/track/

### 请求方式：POST

### 请求参数：

| 参数名    | 类型 | 是否必传 | 命名       | 备注 |
| --------- | ---- | -------- | ---------- | ---- |
| trackList | LIST | 是       | 轨迹的列表 |      |

### 请求示例:

```bash
{
    "trackList": [
        {
            "ship_id": 17,
            "waters_id": 14,
            "st": 1636702836,  // 上午时间段
            "et": 1636703136  // 下午时间段
        },
        {
            "ship_id": 17,
            "waters_id": 14,
            "st": 1636703436,
            "et": 1636703736
        }
    ]
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "et": 1636703136, // 结束时间
            "ship_id": 17,
            "track_info": [
                {
                    "height": "2.4206571579",
                    "s_time": 1636702836,
                    "ship": {
                        "number": "0004",
                        "id": 17,
                        "name": "QDF-0004"
                    },
                    "c_data": {
                        "id": 20,
                        "name": "南京市"
                    },
                    "wgs84_lat": "32.0371816",
                    "c_time": 1636702828376.0,
                    "a_data": {
                        "id": 20,
                        "name": "建邺区"
                    },
                    "ph": "",
                    "cod": "",
                    "waters": {
                        "id": 14,
                        "name": "莫愁湖"
                    },
                    "nh4": "",
                    "nh3": "",
                    "oxy_saturation": "",
                    "_id": "618e1a6cad0529004935da31",
                    "p_data": {
                        "id": 2,
                        "name": "江苏省"
                    },
                    "k": "",
                    "diss_oxy": "",
                    "_cls": "wisdom_waters_service.models.DynamicWaterQuality",
                    "water_quality": null,
                    "chlorophy": "",
                    "turbidity": "",
                    "wgs84_lng": "118.752909"
                },
          }
          "st": 1636703436} // 
    ],    
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```



## 无人船实时数据接口：

### 接口地址：/v1/pc/realtime/

### 请求方式：POST

### 请求参数：

| 参数名  | 类型 | 是否必传 | 命名 | 备注 |
| ------- | ---- | -------- | ---- | ---- |
| shipNum | LIST | 是       | 船ID | 必传 |

### 请求示例:

```bash
{
    "shipNums": ["0004", "0005"]
}
```

### 响应

#### 200

```bash
{
    "data": {
        "shipInfo": [
                {
                    "status": 1, // 船状态
                    "id": 2,
                    "stream_address": "https://open.ys7.com/v3/openlive/F10241147_1_1.m3u8?expire=1660267130&id=347670598524801024&t=f469412c754f0fb921037bb6fde3e2b49df1cad8ffa12099d1a6c0608010bdb4&ev=100"  // 流地址
                }
            ], 
        "pitchAngle": -1.5773258209228516, // 俯仰角
        "velocityEast": -0.00035086582647636533,//东向速度
        "navigationTime": 6034350,// 导航时间 
        "height": 13.934898376464844,// 高度
        "speed": 0.0013401746344045616, // 速度
        "waterDistance": 0, // 水深距离  0表示没有传感器数据
        "wgs84Longitude": 121.0802308, // wgs84 经度
        "trackId": 19, // 轨迹编号
        "socPerKilo": 2.0, // 每公里消耗电量
        "remainMiles": "None", / 剩余里程 None表示无有效数据
        "latitude": 31.325337075135742, // 纬度
        "steerControlDrive": "1", // 驾驶模式
        "waterDistanceWarn": 0,  // 水深告警  0表示无告警
        "rollingAngle": -0.8274579048156738, // 滚转角
        "angleNorth": -1.8229105472564697, // 航向角
        "socMean": 52.0,// 平均电量
        "inTrack": 0,// 是否偏航  0表示没有偏航
        "velocityUniverse": 0.00027741200756281614,// 天向速度
        "noSv": 11,// 导航卫星个数  
        "wgs84Latitude": 31.320791, // wgs84 维度
        "velocityNorth": 0.0012449314817786217,  // 北向速度
        "longitude": 121.09125693075195,  // 经度
        "shipNum": "0004",  // 船号码
        "batteryNum": 2,  // // 电池数量
        "waterQuality": {  // 水质信息
            "oxy": 6.62, // 溶解氧 单位 mg/L
            "cTime": 1627889136,  // 数据采集时间
            "chlorophy": 0.0,  // 叶绿素含量 单位 ug/L
            "K": 0.0, // K+离子 单位 mg/L
            "dissOxySaturation": 91.4, // 溶解氧饱和度 单位%
            "NH4": 1.3, // 铵离子  单位 mg/L
            "cod": 1.4, // 化学需氧量  单位 mg/L
            "NH3": 0.0,  // 氨气  单位mg/L
            "ph": 7.03,  // PH值
            "turbidity": 19.5// 浊度 单位NTU
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 冲锋舟实时数据接口：

### 接口地址：/v1/pc/cfz/realtime/

### 请求方式：POST

### 请求参数：

| 参数名  | 类型 | 是否必传 | 命名         | 备注 |
| ------- | ---- | -------- | ------------ | ---- |
| shipNum | LIST | 是       | 冲锋舟number | 必传 |

### 请求示例:

```bash
{
    "shipNums": [
        "CFZ-0004",
        "CFZ-0003",
        "CFZ-0006"
    ]
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "c_data": {
                "id": 8,
                "name": "温州市"
            },
            "c_time": 1635721213968.0,
            "p_data": {
                "id": 1,
                "name": "浙江省"
            },
            "waters": {
                "id": 15,
                "name": "中塘河"
            },
            "a_data": {
                "id": 12,
                "name": "瑞安市"
            },
            "_cls": "wisdom_waters_service.models.ChargeShipLocation",
            "s_time": 1635721207,
            "lat": "27.7954148333",
            "lng": "120.680407167",
            "_id": "617f1ffdad05290044e73744",
            "ship": {
                "device_id": "867232052326643",
                "number": "CFZ-0004",
                "id": 38,
                "name": "冲锋舟四号"
            }
        },
        {
            "c_data": {
                "id": 8,
                "name": "温州市"
            },
            "c_time": 1635688162666.0,
            "p_data": {
                "id": 1,
                "name": "浙江省"
            },
            "waters": {
                "id": 15,
                "name": "中塘河"
            },
            "a_data": {
                "id": 12,
                "name": "瑞安市"
            },
            "_cls": "wisdom_waters_service.models.ChargeShipLocation",
            "s_time": 1635688149,
            "lat": "27.7744633333",
            "lng": "120.715547833",
            "_id": "617e9ee2ad05290040037c62",
            "ship": {
                "device_id": "867232052342806",
                "number": "CFZ-0003",
                "id": 37,
                "name": "冲锋舟三号"
            }
        },
        {
            "c_data": {
                "id": 8,
                "name": "温州市"
            },
            "c_time": 1635721213944.0,
            "p_data": {
                "id": 1,
                "name": "浙江省"
            },
            "waters": {
                "id": 15,
                "name": "中塘河"
            },
            "a_data": {
                "id": 12,
                "name": "瑞安市"
            },
            "_cls": "wisdom_waters_service.models.ChargeShipLocation",
            "s_time": 1635721178,
            "lat": "27.8082466667",
            "lng": "120.690229167",
            "_id": "617f1ffdad05290044e73743",
            "ship": {
                "device_id": "867232051133305",
                "number": "CFZ-0006",
                "id": 40,
                "name": "冲锋舟六号"
            }
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```



## 冲锋号-存储GPS信息：

### 接口地址：/v1/ship/gps/

### 请求方式：POST

### 请求参数：

| 参数名     | 类型 | 是否必传 | 命名           | 备注 |
| ---------- | ---- | -------- | -------------- | ---- |
| deviceList | LIST | 是       | 设备对应的信息 | 必传 |

### 请求示例:

```bash
{
    "deviceList": [  // 请求参数
        {
            "deviceId": "0001",  // gps设备ID
            "ts": 1011111,  // 时间戳
            "lng": "123.23",  // 经度 wgs84
            "lat": "33.66",  // 纬度 wgs84
            "online": 1  // 1:在线、0:离线
        },
        {
            "deviceId": "0002",
            "ts": 1011111,
            "lng": "123.23",
            "lat": "33.66",
            "online": 1
        }
    ]
}
```

### 响应

#### 200

```bash
{
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 运行轨迹(冲锋舟)：

### 接口地址：/v1/pc/running/cfz_track/

### 请求方式：POST

### 请求参数：

| 参数名    | 类型  | 是否必传 | 命名       | 备注                     |
| --------- | ----- | -------- | ---------- | ------------------------ |
| trackList | LIST  | 是       | 轨迹的列表 |                          |
| ts        | FLOAT | 是       | 毫秒时间戳 | 传递当天凌晨的毫秒时间戳 |

### 请求示例:

```bash
{
    "trackList": [
        {
            "ship_id": 18,
            "waters_id": 4
        }
    ],
    "ts": 1635092968000
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "ship_id": 18,
            "track_info": {
                "c_data": {
                    "id": 1,
                    "name": "杭州市"
                },
                "c_time": 1635175535137.0,
                "p_data": {
                    "id": 1,
                    "name": "浙江省"
                },
                "waters": {
                    "id": 4,
                    "name": "洞庭湖"
                },
                "a_data": {
                    "id": 1,
                    "name": "萧山区"
                },
                "_cls": "wisdom_waters_service.models.ChargeShipLocation",
                "s_time": 1635175060,
                "lat": "27.7741816667",
                "lng": "120.7157945",
                "_id": "6176cc6fad05290041cb7f90",
                "ship": {
	                  "ship_state": 1,  // 船的状态 0:正常、1:离线、2:故障、3:预警
                    "device_id": "867232051132711",
                    "number": "cfz-001",
                    "id": 18,
                    "name": "1号冲锋舟"
                }
            }
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 区分上下午时间-运行轨迹(冲锋舟)：

### 接口地址：/v1/pc/running_time/cfz_track/

### 请求方式：POST

### 请求参数：

| 参数名    | 类型 | 是否必传 | 命名       | 备注 |
| --------- | ---- | -------- | ---------- | ---- |
| trackList | LIST | 是       | 轨迹的列表 |      |

### 请求示例:

```bash
{
    "trackList": [
        {
            "ship_id": 18,  // 船的ID
            "waters_id": 4,   // 水域ID
            "st": 1635140728,  // 开始时间
            "et": 1635141730   // 结束时间
        },
        {
            "ship_id": 18,
            "waters_id": 4,
            "st": 1635403875,   // 开始时间
            "et": 1635404752   // 结束时间
        }
    ]
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "ship_id": 18,
            "st": 1635403875,   // 开始时间
            "et": 1635404752   // 结束时间
            "track_info": {
                "c_data": {
                    "id": 1,
                    "name": "杭州市"
                },
                "c_time": 1635175535137.0,
                "p_data": {
                    "id": 1,
                    "name": "浙江省"
                },
                "waters": {
                    "id": 4,
                    "name": "洞庭湖"
                },
                "a_data": {
                    "id": 1,
                    "name": "萧山区"
                },
                "_cls": "wisdom_waters_service.models.ChargeShipLocation",
                "s_time": 1635175060,
                "lat": "27.7741816667",
                "lng": "120.7157945",
                "_id": "6176cc6fad05290041cb7f90",
                "ship": {
	                  "ship_state": 1,  // 船的状态 0:正常、1:离线、2:故障、3:预警
                    "device_id": "867232051132711",
                    "number": "cfz-001",
                    "id": 18,
                    "name": "1号冲锋舟"
                }
            }
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 获取冲锋舟-时间段详情信息：

### 接口地址：/v1/pc/get_cfz/time_slot/

### 请求方式：POST

### 请求参数：

| 参数名  | 类型   | 是否必传 | 命名            | 备注 |
| ------- | ------ | -------- | --------------- | ---- |
| shipNum | STRING | 是       | 船的编号        |      |
| ts      | INT    | 是       | 当天凌晨 时间戳 |      |

### 请求示例:

```bash
{
    "shipNum": "CFZ-0001",
    "ts": 1646668800
}
```

### 响应

#### 200

```bash
// 如果为0 表示后台没有设置
{
    "data": {
        "pmSt": 1646715600,  // 下午开始时间
        "amSt": 1646694000,  // 上午开始时间
        "pmEt": 1646748000,  // 下午结束时间
        "amEt": 1646708400  // 上午结束时间
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```



## 冲锋舟停留预警接口：

### 接口地址：/v1/cfz/warning/

### 请求方式：POST

### 请求参数：

| 参数名   | 类型   | 是否必传 | 命名     | 备注 |
| -------- | ------ | -------- | -------- | ---- |
| deviceId | STRING | 是       | 冲锋舟ID |      |
| ts       | STRING | 是       | 时间戳   |      |
| lng      | STRING | 是       | 经度     |      |
| lat      | STRING | 是       | 纬度     |      |

### 请求示例:

```bash
{
    "deviceId": "867232051133305",
    "lng": "120.123",
    "lat": "20.20",
    "ts": "1636619801"
}
```

### 响应

#### 200

```bash
{
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 三屏截图上报：

### 接口地址：/v1/alarm/report/

### 请求方式：POST

### 请求参数：

| 参数名       | 类型   | 是否必传 | 命名         | 备注 |
| ------------ | ------ | -------- | ------------ | ---- |
| aiPId        | INT    | 是       | 一级识别分类 |      |
| aiSId        | INT    | 是       | 二级识别分类 |      |
| aiTId        | INT    | 是       | 三级识别分类 |      |
| address      | STRING | 否       | 事件识别地址 |      |
| imageAddress | STRING | 是       | 图片地址     |      |
| videoAddress | STRING | 否       | 视频地址     |      |
| lng          | STRING | 是       | 经度 wgs84   |      |
| lat          | STRING | 是       | 纬度 wgs84   |      |
| shipId       | INT    | 是       | 船的ID       |      |
| projectId    | INT    | 是       | 项目ID       |      |

### 请求示例:

```bash
{
    "aiPId": 1,
    "aiSId": 1,
    "aiTId": 1,
    "address": "滨江",
    "imageAddress": "http://qingdaofu-bucket.oss-cn-hangzhou.aliyuncs.com/river/1623291042797.png",
    "videoAddress": "http://qingdaofu-bucket.oss-cn-hangzhou.aliyuncs.com/river/1623291072992.mp4",
    "lng": "120.640955475",
    "lat": "31.3169855448",
    "sTime": "2021-06-10 02:10:46.605764",
    "shipId": 26,
    "projectId": 55
}
```

### 响应

#### 200

```bash
{
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 获取项目-船舶所对应信息(三屏使用)：

### 接口地址：/v1/get/project_ship/

### 请求方式：GET

### 请求参数：

* 无

### 响应

#### 200

```bash
{
    "data": [
        {
            "ship__name": "QDF-0014",  // 船名称
            "project__name": "杭州滨江项目",  // 项目名称
            "c_time": "2021-09-04T16:00:00Z",  // 创建时间
            "project__num": "zj-hj-bj-cgj202109",  // 项目编号
            "ship_id": 26,  // 船的ID
            "ship__number": "0014",  // 船的编号
            "project_id": 55,  // 项目ID
            "id": 43
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 获取船下拉框信息

### 接口地址：/v1/all/ship

### 请求方式：POST

### 请求参数：

* 

### 请求示例:

* 

### 响应

#### 200

```bash
{
    "data": [
        {
            "device_id": null,  // 设备ID
            "ship_type": 1, // 1：无人船  2:冲锋舟
            "id": 9, // 船的ID
            "name": "测试船",  // 船的名称
            "number": "00010"  // 船的编号
        },
        {
            "device_id": "123",
            "ship_type": 2,
            "id": 8,
            "name": "西湖前进号223",
            "number": "0013"
        },
        {
            "device_id": null,
            "ship_type": 1,
            "id": 7,
            "name": "西湖前进号123",
            "number": "0012"
        },
        {
            "device_id": "0001",
            "ship_type": 2,
            "id": 5,
            "name": "冲锋舟-001",
            "number": "0099"
        },
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 获取项目下拉框信息：

### 接口地址：/v1/all/project

### 请求方式：POST

### 请求参数：

* 

### 请求示例:

* 

### 响应

#### 200

```bash
{
    "data": [
        {
            "num": "0001", // 项目编号
            "id": 29, // 项目ID
            "name": "杭州西湖"  // 项目名称
        },
        {
            "num": "88888888888",
            "id": 25,
            "name": "项目名册888888"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 获取水域下拉框信息：

### 接口地址：/v1/all/waters

### 请求方式：POST

### 请求参数：

* 

### 请求示例:

* 

### 响应

#### 200

```bash
{
    "data": [
        {
            "id": 9,  // 水域ID
            "name": "洞庭湖",  // 水域名称
            "number": "0009"  // 水域编号
        },
        {
            "id": 8,
            "name": "南塘湖",
            "number": "0008"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 获取项目相关信息：

### 接口地址：/v1/project/organ

### 请求方式：GET

### 请求参数：

| 参数名    | 类型 | 是否必传 | 命名   | 备注 |
| --------- | ---- | -------- | ------ | ---- |
| projectId | INT  | 是       | 项目ID |      |

### 请求示例:

```bash
{"projectId":1}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "business_type": 4,
            "area_id": 19,
            "waters_id": 22,
            "city_id": 18,
            "city__name": "宁波市",
            "province__name": "浙江省",
            "num": "ZJ-NB-HTH-20210524",
            "area__name": "鄞州区",
            "waters__name": "后塘河",
            "province_id": 1,
            "id": 64,
            "name": "浙江宁波后塘河"
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

