# 滨江项目信息

## 获取船的实时工况接口:

> 获取船的实时数据接口，船轮训请求当前接口。

### 接口地址：/xh/bj_ship/real_time/

### 请求方式：GET

### 请求参数：

* 

### 请求示例:

* 

### 响应

#### 200

```bash
{
    "data": {
        "pitchAngle": -1.5773258209228516, // 俯仰角
        "velocityEast": -0.00035086582647636533,//东向速度
        "navigationTime": 6034350,// 导航时间 
        "height": 13.934898376464844,// 高度
        "speed": 0.0013401746344045616, // 速度
        "waterDistance": 0, // 水深距离  0表示没有传感器数据
        "wgs84Longitude": 121.0802308, // wgs84 经度
        "trackId": 19, // 轨迹编号
        "socPerKilo": 2.0, // 每公里消耗电量
        "remainMiles": "None", / 剩余里程 None表示无有效数据
        "latitude": 31.325337075135742, // 纬度
        "steerControlDrive": "1", // 驾驶模式
        "waterDistanceWarn": 0,  // 水深告警  0表示无告警
        "rollingAngle": -0.8274579048156738, // 滚转角
        "angleNorth": -1.8229105472564697, // 航向角
        "socMean": 52.0,// 平均电量
        "inTrack": 0,// 是否偏航  0表示没有偏航
        "velocityUniverse": 0.00027741200756281614,// 天向速度
        "noSv": 11,// 导航卫星个数  
        "wgs84Latitude": 31.320791, // wgs84 维度
        "velocityNorth": 0.0012449314817786217,  // 北向速度
        "longitude": 121.09125693075195,  // 经度
        "shipNum": "0014",  // 船号码
        "batteryNum": 2,  // // 电池数量
        "waterQuality": {  // 水质信息
            "oxy": 6.62, // 溶解氧 单位 mg/L
            "cTime": 1627889136,  // 数据采集时间
            "chlorophy": 0.0,  // 叶绿素含量 单位 ug/L
            "K": 0.0, // K+离子 单位 mg/L
            "dissOxySaturation": 91.4, // 溶解氧饱和度 单位%
            "NH4": 1.3, // 铵离子  单位 mg/L
            "cod": 1.4, // 化学需氧量  单位 mg/L
            "NH3": 0.0,  // 氨气  单位mg/L
            "ph": 7.03,  // PH值
            "turbidity": 19.5// 浊度 单位NTU
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 获取船播放视频流接口:

### 接口地址：/xh/bj_ship/info/

### 请求方式：GET

### 请求参数：

* 

### 请求示例:

* 

### 响应

#### 200

```bash
{
    "data": [
        {
            "status": 0, // 船的状态 0:在线 1:离线 2:故障 3:预警
            "name": "QDF-0014", // 船的名称
            "stream_address": "https://open.ys7.com/v3/openlive/G16325269_1_1.m3u8?expire=1663056524&id=359370166460145664&t=1496fda6cdeaec6e2d02a3265f1ef06f074356013a586e936e0e2787952f52ae&ev=100",  // 流地址
            "zip_stream_address": "rtsp://47.110.158.224:8108/live",  // 压缩流地址
            "number": "0014",  // 船的编号
            "ship_type": 1,  // 1:无人船 
            "waters__name": "杭州-滨江",  // 水域名称
            "id": 26,  // 船的ID
            "waters_id": 35  // 水域ID
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 获取安防预警应急接口:

### 接口地址：/xh/bj_ship/alarm_info/

### 请求方式：GET

### 请求参数：

* 

### 请求示例:

* 

### 响应

#### 200

```bash
{
    "data": {
        "count": 2,
        "list": [
            {
                "id": 8014,
                "address": "滨江", // 事件地址
                "lng": "120.640955475",  // 经度
                "lat": "31.3169855448",  // 纬度
                "sTime": "1637345799.000282",  // 预警事件
                "shipInfo": {  // 船体信息
                    "id": 26,
                    "number": "0014"  // 船的编号
                },
                "watersInfo": {  // 水域信息
                    "id": 35,
                    "name": "杭州-滨江"
                },
                "aiP_info": {  // 一级识别事件
                    "id": 1,
                    "name": "水上识别"
                },
                "aiS_info": {  // 二级识别事件
                    "text": "河长办、环保局、城管局",
                    "id": 1,
                    "name": "生活垃圾"
                },
                "aiT_info": {  // 三级识别事件
                    "id": 1,
                    "name": "塑料袋"
                },
                "imageAddress": "http://qingdaofu-bucket.oss-cn-hangzhou.aliyuncs.com/river/1623291042797.png"  // 图片地址
            }
        ],
        "links": {
            "previous": null,  // 上一页
            "next": null  // 下一页
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

