# 智慧水域-运维系统-水质相关接口

# 水质评价相关接口：

## 创建水质评价：

### 接口地址：v1/admin/water_quality/category/

### 请求方式：POST

### 请求参数：

| 参数名 | 类型   | 是否必传 | 命名     | 备注 |
| ------ | ------ | -------- | -------- | ---- |
| code   | STRING | 是       | 水质CODE |      |
| name   | STRING | 是       | 水质指标 |      |
| i      | STRING | 否       | 一级类别 |      |
| ii     | STRING | 否       | 二级类别 |      |
| iii    | STRING | 否       | 三级类别 |      |
| iv     | STRING | 否       | 四级类别 |      |
| v      | STRING | 否       | 五级类别 |      |
| memo   | STRING | 否       | 备注     |      |

### 请求示例:

```bash
{
    "code": "ph",
    "name": "PH",
    "i": "6",
    "ii": "7",
    "iii": "8",
    "iv": "9",
    "v": "10",
    "memo": "人为造成环境水温变化"
}
```

### 响应

#### 200

```bash
{
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 编辑水质评价：

### 接口地址：v1/admin/water_quality/category/

### 请求方式：PUT

### 请求参数：

| 参数名  | 类型   | 是否必传 | 命名       | 备注 |
| ------- | ------ | -------- | ---------- | ---- |
| waterId | INT    | 是       | 水质评价ID |      |
| code    | STRING | 是       | 水质CODE   |      |
| name    | STRING | 是       | 水质指标   |      |
| i       | STRING | 否       | 一级类别   |      |
| ii      | STRING | 否       | 二级类别   |      |
| iii     | STRING | 否       | 三级类别   |      |
| iv      | STRING | 否       | 四级类别   |      |
| v       | STRING | 否       | 五级类别   |      |
| memo    | STRING | 否       | 备注       |      |

### 请求示例:

```bash
{
    "waterId": 1,
    "code": "ph",
    "name": "PH",
    "i": "6",
    "ii": "7",
    "iii": "8",
    "iv": "9",
    "v": "10",
    "memo": "人为造成环境水温变化1"
}
```

### 响应

#### 200

```bash
{
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 获取水质评价详情：

### 接口地址：v1/admin/water_quality/category/

### 请求方式：GET

### 请求参数：

| 参数名  | 类型 | 是否必传 | 命名       | 备注 |
| ------- | ---- | -------- | ---------- | ---- |
| waterId | INT  | 是       | 水质评价ID |      |

### 请求示例:

```bash
{
    "waterId": 1
}
```

### 响应

#### 200

```bash
{
    "data": [
        {
            "code": "ph",  // 水质指标CODE
            "name": "PH",  // 水质指标
            "i": "6",  // I类
            "memo": "人为造成环境水温变化1", // 备注信息
            "iv": "9",  // II类
            "ii": "7",  // III类
            "v": "10",  // V类
            "iii": "8",  // IV类
            "id": 1  // 水质评价ID
        }
    ],
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 批量删除水质评价详情：

### 接口地址：v1/admin/delete/wq/category/

### 请求方式：POST

### 请求参数：

| 参数名   | 类型 | 是否必传 | 命名           | 备注 |
| -------- | ---- | -------- | -------------- | ---- |
| waterIds | LIST | 是       | 水质评价ID列表 |      |

### 请求示例:

```bash
{
    "waterIds": [1,2]
}
```

### 响应

#### 200

```bash
{
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

## 水质评价列表页：

### 接口地址：v1/admin/water_quality/category/list/

### 请求方式：GET

### 请求参数：

| 参数名 | 类型   | 是否必传 | 命名             | 备注 |
| ------ | ------ | -------- | ---------------- | ---- |
| name   | STRING | 否       | 水质评价指标筛选 |      |

### 请求示例:

```bash
{
    "name": "ph"
}
```

### 响应

#### 200

```bash
// 同详情
{
    "data": {
        "count": 1,
        "list": [
            {
                "id": 1,  
                "code": "ph",
                "name": "PH",
                "i": "6",
                "ii": "7",
                "iii": "8",
                "iv": "9",
                "v": "10",
                "memo": "人为造成环境水温变化1"
            }
        ],
        "links": {
            "previous": null,
            "next": null
        }
    },
    "retCode": 0,
    "retMsg": "成功 | Success"
}
```

